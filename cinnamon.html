<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* рж╕рж╛ржзрж╛рж░ржг рж╕рзНржЯрж╛ржЗрж▓ */
        body {
            font-family: 'SolaimanLipi', sans-serif; 
            background: #f9f9f9; 
            margin: 0; 
            padding: 0;
            color: #333;
            transition: background-color 0.3s, color 0.3s;
        }
        
        .dark-mode {
            background-color: #121212; 
            color: #f1f1f1; 
        }
        
        .dark-mode .scientific-feature {
            background: #7b1fa2;
        }
        
        .disorder-card {
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }
        
        .disorder-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .collapse-text {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        
        .disorder-card:hover .collapse-text {
            max-height: 500px;
        }
        
        header { 
            background: #7b1fa2; 
            color: white; 
            padding: 15px; 
            text-align: center;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            gap: 16px; 
            flex-wrap: wrap;
        }
        
        .container { 
            max-width: 1200px; 
            margin: auto; 
            padding: 20px;
        }
        
        .section { 
            background: white; 
            padding: 20px; 
            margin-bottom: 20px; 
            border-radius: 8px; 
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .dark-mode .section {
            background: #1a1a1a;
            box-shadow: 0 0 10px rgba(255,255,255,0.1);
        }
        
        h2 { 
            color: #7b1fa2;
        }
        
        .dark-mode h2 {
            color: #9c27b0;
        }
        
        button { 
            background: #7b1fa2; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 5px; 
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover { 
            background: #6a1b9a;
        }
        
        input, select { 
            padding: 8px; 
            margin: 5px 0; 
            width: 100%; 
            border-radius: 5px; 
            border: 1px solid #ccc;
        }
        
        .dark-mode input, 
        .dark-mode select {
            background: #333;
            color: #fff;
            border-color: #555;
        }
        
        textarea { 
            width: 100%; 
            padding: 8px; 
            border-radius: 5px; 
            border: 1px solid #ccc;
        }
        
        .dark-mode textarea {
            background: #333;
            color: #fff;
            border-color: #555;
        }
        
        .comment-box { 
            border-top: 1px solid #ccc; 
            padding-top: 10px; 
            margin-top: 10px;
        }
        
        .comment { 
            background: #f3e5f5; 
            padding: 10px; 
            margin-bottom: 5px; 
            border-radius: 5px;
        }
        
        .dark-mode .comment {
            background: #4a148c;
        }
        
        .lang-btn { 
            margin-right: 10px; 
        }
        
        /* ржЙржирзНржиржд рж╕рзНржЯрж╛ржЗрж▓ */
        h2, h3 { 
            margin-top: 20px; 
        }
        
        ul { 
            margin-left: 20px; 
        }
        
        table { 
            width: 100%; 
            border-collapse: collapse; 
            margin-top: 15px; 
        }
        
        table, th, td { 
            border: 1px solid #ccc; 
        }
        
        th, td { 
            padding: 10px; 
            text-align: left; 
        }
        
        th { 
            background-color: #e1bee7; 
        }
        
        .dark-mode th {
            background-color: #4a148c;
        }
        
        .btn-group button {
            margin-right: 10px; 
            padding: 5px 15px; 
            cursor: pointer; 
            border: none; 
            border-radius: 5px;
        }
        
        .btn-group button:hover { 
            opacity: 0.8; 
        }
        
        #finalResult { 
            margin-top: 15px; 
            font-weight: bold; 
            color: #7b1fa2; 
        }
        
        .switch {
            position: fixed; 
            top: 15px; 
            right: 15px; 
            cursor: pointer; 
            background: #ccc;
            padding: 5px 10px; 
            border-radius: 5px; 
            z-index: 9999;
        }
        
        .dark-mode .switch {
            background: #555;
            color: #fff;
        }
        
        .chart-container { 
            width: 100%; 
            max-width: 700px; 
            margin: 30px auto; 
        }
        
        .back-btn {
            background: linear-gradient(135deg, #7b1fa2, #9c27b0); 
            color: white; 
            font-weight: bold; 
            padding: 10px 20px;
            border: none; 
            border-radius: 12px; 
            cursor: pointer; 
            box-shadow: 2px 4px 8px rgba(0,0,0,0.2);
            transition: all 0.3s ease; 
            font-size: 16px;
        }
        
        .back-btn:hover { 
            background: linear-gradient(135deg, #6a1b9a, #8e24aa); 
            transform: scale(1.05); 
        }
        
        input, select, button { 
            margin-top: 5px; 
            margin-bottom: 10px; 
            padding: 6px 8px; 
        }
        
        small.hint { 
            color: #666;
            display: block; 
            margin-top: -6px; 
            margin-bottom: 10px; 
        }
        
        .dark-mode small.hint {
            color: #bbb;
        }
        
        .section-card {
            background: #fff; 
            border-radius: 14px; 
            box-shadow: 0 6px 18px rgba(0,0,0,0.06); 
            padding: 18px; 
            margin: 22px 0;
        }
        
        .dark-mode .section-card { 
            background: #1a1a1a; 
            box-shadow: 0 6px 18px rgba(255,255,255,0.05); 
        }
        
        .grid-2 { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
            gap: 16px; 
        }
        
        .badge {
            display: inline-block; 
            padding: 4px 10px; 
            border-radius: 999px; 
            font-size: 12px; 
            font-weight: 600; 
            background: #f3e5f5; 
            color: #7b1fa2;
        }
        
        .dark-mode .badge { 
            background: #4a148c; 
            color: #e1bee7; 
        }
        
        .kpi { 
            display: flex; 
            gap: 10px; 
            align-items: center; 
            font-weight: 600; 
        }
        
        .kpi .dot { 
            width: 10px; 
            height: 10px; 
            border-radius: 999px; 
            background: #9c27b0; 
        }
        
        .canvas-wrap { 
            display: flex; 
            gap: 16px; 
            flex-wrap: wrap; 
            align-items: flex-start; 
        }
        
        .preview {
            border: 1px dashed #bbb; 
            border-radius: 12px; 
            padding: 8px; 
            background: #fafafa;
        }
        
        .dark-mode .preview { 
            background: #101010; 
            border-color: #444; 
        }
        
        .note { 
            font-size: 13px; 
            color: #555; 
        }
        
        .dark-mode .note { 
            color: #bbb; 
        }
        
        .calendar { 
            width: 100%; 
            border-collapse: collapse; 
        }
        
        .calendar th { 
            background: #ede7f6; 
        }
        
        .dark-mode .calendar th { 
            background: #1a237e; 
        }
        
        .download-btn {
            background: #5c6bc0; 
            color: #fff; 
            border: none; 
            border-radius: 8px; 
            padding: 8px 12px; 
            cursor: pointer; 
            font-weight: 700;
        }
        
        .download-btn:hover { 
            opacity: .9; 
        }
        
        iframe {
            max-width: 100%;
            height: auto;
            aspect-ratio: 16/9;
        }
        
        /* ржирждрзБржи рж╕рзНржЯрж╛ржЗрж▓ */
        .price-card {
            background: linear-gradient(135deg, #f3e5f5, #e1bee7);
            border-radius: 12px;
            padding: 15px;
            margin: 10px 0;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .dark-mode .price-card {
            background: linear-gradient(135deg, #6a1b9a, #7b1fa2);
        }
        
        .price-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .price-region {
            font-weight: bold;
            font-size: 18px;
            color: #7b1fa2;
        }
        
        .dark-mode .price-region {
            color: #e1bee7;
        }
        
        .price-value {
            font-size: 22px;
            font-weight: bold;
            color: #d32f2f;
        }
        
        .price-date {
            font-size: 12px;
            color: #666;
        }
        
        .dark-mode .price-date {
            color: #ccc;
        }
        
        .companion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .companion-card {
            background: #fff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .dark-mode .companion-card {
            background: #4a235a;
        }
        
        .companion-title {
            font-size: 20px;
            color: #7b1fa2;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dark-mode .companion-title {
            color: #ba68c8;
        }
        
        .companion-list {
            list-style-type: none;
            padding: 0;
        }
        
        .companion-list li {
            padding: 8px 0;
            border-bottom: 1px dashed #e1bee7;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dark-mode .companion-list li {
            border-bottom: 1px dashed #9c27b0;
        }
        
        .good-companion {
            color: #7b1fa2;
        }
        
        .bad-companion {
            color: #d32f2f;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .canvas-wrap {
                flex-direction: column;
            }
            
            header {
                flex-direction: column;
                text-align: center;
            }
            
            .switch {
                top: 5px;
                right: 5px;
                padding: 3px 8px;
                font-size: 14px;
            }
            
            .companion-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="switch" onclick="toggleDarkMode()">
        <i class="fas fa-moon"></i> ржбрж╛рж░рзНржХ / рж▓рж╛ржЗржЯ ржорзЛржб
    </div>

    <header>
        <h1>ЁЯМ┐ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб</h1>
    </header>

    <div class="container">
        <!-- ================== ржжрж╛рж░ржЪрж┐ржирж┐ ржкрж░рж┐ржЪрж┐рждрж┐ ================== -->
        <section id="cinnamon" class="section-card">
            <span class="badge">ржмрзЗрж╕рж┐ржХ ржЧрж╛ржЗржб</span>
            <h2 style="color: #8d6e63;">ржжрж╛рж░ржЪрж┐ржирж┐ (Cinnamon)</h2>
            <h3>ржХрзЗржи ржЪрж╛рж╖ ржХрж░ржмрзЗржи?</h3>
            <ul>
                <li>ржЙржЪрзНржЪ ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп ржПржмржВ ржЪрж╛рж╣рж┐ржжрж╛</li>
                <li>ржжрзАрж░рзНржШржорзЗржпрж╝рж╛ржжрзА рж▓рж╛ржнрзЗрж░ ржЙрзОрж╕</li>
                <li>ржХржо ржкрж░рж┐ржЪрж░рзНржпрж╛ржпрж╝ ржмрзЗрж╢рж┐ ржлрж▓ржи</li>
                <li>ржмрж╛ржВрж▓рж╛ржжрзЗрж╢рзЗрж░ ржЖржмрж╣рж╛ржУржпрж╝рж╛ржпрж╝ ржЙржкржпрзЛржЧрзА</li>
            </ul>
            <h3>ЁЯМН ржЙржкржпрзБржХрзНржд ржкрж░рж┐ржмрзЗрж╢</h3>
            <ul>
                <li>ржЬрж▓ржмрж╛ржпрж╝рзБ: ржЙрж╖рзНржг ржУ ржЖрж░рзНржжрзНрж░ ржЬрж▓ржмрж╛ржпрж╝рзБ ржЙржкржпрзЛржЧрзА</li>
                <li>рждрж╛ржкржорж╛рждрзНрж░рж╛: ржЖржжрж░рзНрж╢ рзирзжтАУрзйрзж┬░C</li>
                <li>ржорж╛ржЯрж┐: ржмрзЗрж▓рзЗ ржжрзЛржЖржБрж╢ ржерзЗржХрзЗ ржжрзЛржЖржБрж╢, pH рзл.рзлтАУрзм.рзл</li>
                <li>ржмрзГрж╖рзНржЯрж┐ржкрж╛ржд: ржмрж╛рж░рзНрж╖рж┐ржХ рззрзлрзжтАУрзирзлрзж рж╕рзЗржорж┐</li>
            </ul>
        </section>

        <!-- ================== ржЬржорж┐ ржУ ржкрж░рж┐ржмрзЗрж╢ ржпрж╛ржЪрж╛ржЗ ================== -->
        <section id="cinnamon-checklist" class="section-card">
            <span class="badge">ржлрж┐рж▓рзНржб ржЪрзЗржХ</span>
            <h2>ЁЯМ┐ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЬржорж┐ ржУ ржкрж░рж┐ржмрзЗрж╢ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи</h2>
            <p class="note">ржЖржкржирж╛рж░ ржЬржорж┐ ржХрзЗржоржи? ржирж┐ржЪрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╢рзНржирзЗ рж╣рзНржпрж╛ржБ / ржирж╛ ржЪрж╛ржкрзБржи:</p>
            <ul style="list-style: none; padding: 0;" id="questionList">
                <li style="margin-bottom: 10px;">
                    тША <strong>ржЬржорж┐рждрзЗ ржкрж░рзНржпрж╛ржкрзНржд рж░рзЛржж ржкржбрж╝рзЗ?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(0, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(0, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
                <li style="margin-bottom: 10px;">
                    ЁЯМб <strong>рждрж╛ржкржорж╛рждрзНрж░рж╛ рзирзж-рзйрзж┬░C ржПрж░ ржоржзрзНржпрзЗ ржерж╛ржХрзЗ?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(1, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(1, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
                <li style="margin-bottom: 10px;">
                    ЁЯМз <strong>ржЬржорж┐рждрзЗ ржкрж╛ржирж┐ ржЬржорзЗ ржирж╛?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(2, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(2, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
                <li style="margin-bottom: 10px;">
                    ЁЯМ▒ <strong>ржорж╛ржЯрж┐ ржжрзЛржЖржБрж╢ ржмрж╛ ржмрзЗрж▓рзЗ ржжрзЛржЖржБрж╢?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(3, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(3, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
                <li style="margin-bottom: 10px;">
                    ЁЯТз <strong>рж╕рзЗржЪрзЗрж░ ржмрзНржпржмрж╕рзНржерж╛ ржЖржЫрзЗ?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(4, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(4, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
                <li style="margin-bottom: 10px;">
                    тЭЧ <strong>ржорж╛ржЯрж┐ ржЕржорзНрж▓рзАржпрж╝ ржерзЗржХрзЗ рж╕рж╛ржорж╛ржирзНржп ржЕржорзНрж▓рзАржпрж╝ (pH рзл.рзл-рзм.рзл)?</strong><br>
                    <div class="btn-group">
                        <button onclick="setAnswer(5, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                        <button onclick="setAnswer(5, 0, this)">тЭМ ржирж╛</button>
                    </div>
                </li>
            </ul>
            <button onclick="showFinalResult()" style="margin-top: 10px; padding: 10px 20px; font-weight: bold;">ЁЯУК ржлрж▓рж╛ржлрж▓ ржжрзЗржЦрзБржи</button>
            <div id="finalResult"></div>
        </section>

        <!-- ================== Research & AI Predictions ================== -->
        <section id="research" class="section-card">
            <span class="badge">рж░рж┐рж╕рж╛рж░рзНржЪ ржЯрзБрж▓рж╕</span>
            <h2 style="color:#5d4037;">ЁЯФм ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржмрзИржЬрзНржЮрж╛ржирж┐ржХ ржорзВрж▓рзНржпрж╛ржпрж╝ржи ржУ ржкрзВрж░рзНржмрж╛ржнрж╛рж╕</h2>

            <!-- Soil & Climate -->
            <h3>т┐б ржорж╛ржЯрж┐ ржУ ржЬрж▓ржмрж╛ржпрж╝рзБрж░ ржЙржкржпрзЛржЧрж┐рждрж╛</h3>
            <div class="grid-2">
                <div>
                    <label>ржорж╛ржЯрж┐ pH: <input type="number" id="soilPH" min="4" max="9" step="0.1" value="6.0"></label>
                    <label>ржорж╛ржЯрж┐рж░ ржЬрзИржм ржкржжрж╛рж░рзНрже (%): <input type="number" id="soilOM" min="0" max="10" step="0.1" value="2.5"></label>
                    <label>рждрж╛ржкржорж╛рждрзНрж░рж╛ (┬░C): <input type="number" id="temp" min="15" max="40" value="25"></label>
                    <label>ржЖрж░рзНржжрзНрж░рждрж╛ (%): <input type="number" id="humidity" min="30" max="100" value="75"></label>
                    <button onclick="calculateSuitability()">ЁЯТб ржЙржкржпрзЛржЧрж┐рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи</button>
                    <div id="suitabilityResult" style="margin-top:10px;font-weight:bold;"></div>
                </div>
                <div>
                    <h4>т┐в ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ржХрзГржд ржлрж▓ржи (ржХрзЗржЬрж┐/ржмрж┐ржШрж╛/ржмржЫрж░)</h4>
                    <div class="chart-container"><canvas id="yieldChart"></canvas></div>
                    <h4>т┐г рж░рзЛржЧ ржЭрзБржБржХрж┐ рж╕рж┐ржорзБрж▓рзЗржЯрж░</h4>
                    <label>ржЖрж░рзНржжрзНрж░рждрж╛ (%): <input type="range" id="diseaseHumidity" min="30" max="100" value="75" oninput="updateDiseaseRisk()"></label>
                    <div id="diseaseRisk" style="margin-top:10px;font-weight:bold;color:#e53935;">ржЭрзБржБржХрж┐: ржорж╛ржЭрж╛рж░рж┐</div>
                </div>
            </div>
        </section>

        <!-- ================== ржЪрж╛рж░рж╛ рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝ ржУ ржПрж▓рж╛ржХрж╛ ================== -->
        <section id="cinnamon-planting" class="section-card">
            <span class="badge">рж╕ржоржпрж╝рж╕рзВржЪрж┐</span>
            <h3>ЁЯУЕ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ рж╕ржоржпрж╝ ржУ ржЙржкржпрзБржХрзНржд ржПрж▓рж╛ржХрж╛</h3>
            <table>
                <thead>
                    <tr><th>ржорзМрж╕рзБржо</th><th>ржЪрж╛рж░рж╛ рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝</th><th>ржЫрж╛рж▓ рж╕ржВржЧрзНрж░рж╣</th></tr>
                </thead>
                <tbody>
                    <tr><td>ржмрж░рзНрж╖рж╛ ржорзМрж╕рзБржо</td><td>ржЬрзБржи тАУ ржЬрзБрж▓рж╛ржЗ</td><td>рзи-рзй ржмржЫрж░ ржкрж░</td></tr>
                    <tr><td>рж╢рзАржд ржорзМрж╕рзБржо</td><td>рж╕рзЗржкрзНржЯрзЗржорзНржмрж░ тАУ ржЕржХрзНржЯрзЛржмрж░</td><td>рзи-рзй ржмржЫрж░ ржкрж░</td></tr>
                </tbody>
            </table>
            <ul>
                <li>ржЪржЯрзНржЯржЧрзНрж░рж╛ржо, ржмрж╛ржирзНржжрж░ржмрж╛ржи, рж░рж╛ржЩрзНржЧрж╛ржорж╛ржЯрж┐: ржкрж╛рж░рзНржмрждрзНржп ржЕржЮрзНржЪрж▓рзЗ ржнрж╛рж▓рзЛ рж╣ржпрж╝</li>
                <li>рж╕рж┐рж▓рзЗржЯ, ржорзМрж▓ржнрзАржмрж╛ржЬрж╛рж░: ржЖрж░рзНржжрзНрж░ ржЖржмрж╣рж╛ржУржпрж╝рж╛ ржЙржкржпрзЛржЧрзА</li>
                <li>ржХржХрзНрж╕ржмрж╛ржЬрж╛рж░: ржЙржкржХрзВрж▓рзАржпрж╝ ржЕржЮрзНржЪрж▓рзЗ ржЪрж╛рж╖ рж╕ржорзНржнржм</li>
                <li>ржЯрж╛ржЩрзНржЧрж╛ржЗрж▓, ржоржпрж╝ржоржирж╕рж┐ржВрж╣: ржЙржБржЪрзБ ржЬржорж┐рждрзЗ ржЪрж╛рж╖ржпрзЛржЧрзНржп</li>
            </ul>
        </section>

        <!-- ================== ржорж╛ржЯрж┐ ржкрзНрж░рж╕рзНрждрзБрждрж┐ ================== -->
        <section id="soil" class="section-card">
            <span class="badge">ржорж╛ржЯрж┐ ржкрзНрж░рж╕рзНрждрзБрждрж┐</span>
            <h2>ЁЯМ▒ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржорж╛ржЯрж┐ ржкрзНрж░рж╕рзНрждрзБрждрж┐</h2>
            <p>
                ржжрж╛рж░ржЪрж┐ржирж┐ ржЧрж╛ржЫрзЗрж░ ржЬржирзНржп ржнрж╛рж▓рзЛ ржирж┐рж╖рзНржХрж╛рж╢ржиржпрзБржХрзНржд ржЙрж░рзНржмрж░ ржжрзЛ-ржЖржБрж╢ ржорж╛ржЯрж┐ ржкрзНрж░ржпрж╝рзЛржЬржиред  
                рзз) ржЬржорж┐ ржкрзНрж░ржержорзЗ рзи-рзй ржмрж╛рж░ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржЪрж╛рж╖ ржУ ржоржЗ ржжрж┐ржпрж╝рзЗ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред <br>
                рзи) ржЧрж░рзНржд рждрзИрж░рж┐ ржХрж░рзБржи рзлрзжрж╕рзЗржорж┐ ├Ч рзлрзжрж╕рзЗржорж┐ ├Ч рзлрзжрж╕рзЗржорж┐ ржЖржХрж╛рж░рзЗрж░ред <br>
                рзй) ржкрзНрж░рждрж┐ ржЧрж░рзНрждрзЗ рззрзж-рззрзл ржХрзЗржЬрж┐ ржкржЪрж╛ ржЧрзЛржмрж░ ржмрж╛ ржХржорзНржкрзЛрж╕рзНржЯ рж╕рж╛рж░ ржорж┐рж╢рж┐ржпрж╝рзЗ ржжрж┐ржиред <br>
                рзк) ржЧрж░рзНрждрзЗ рззрзжрзж ржЧрзНрж░рж╛ржо ржЯрж┐ржПрж╕ржкрж┐ ржУ рзлрзж ржЧрзНрж░рж╛ржо ржПржоржУржкрж┐ рж╕рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ ржХрж░рзБржиред <br>
                рзл) ржмрзГрж╖рзНржЯрж┐рж░ ржкрж╛ржирж┐ ржирж┐рж╖рзНржХрж╛рж╢ржирзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржмрзНржпржмрж╕рзНржерж╛ рж░рж╛ржЦрзБржиред  
            </p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uHVtn2mMKLk?si=1p49Ss0CTkwCvBdi" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>        </section>

        <!-- ================== ржЪрж╛рж░рж╛ рж░рзЛржкржг ржкржжрзНржзрждрж┐ ================== -->
        <section class="section-card">
            <span class="badge">ржЪрж╛рж░рж╛ рж░рзЛржкржг</span>
            <h2>ржЪрж╛рж░рж╛ рж░рзЛржкржг ржкржжрзНржзрждрж┐</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржзрж╛ржк</th>
                        <th>ржХрзА ржХрж░ржмрзЗржи</th>
                        <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ржЪрж╛рж░рж╛ ржирж┐рж░рзНржмрж╛ржЪржи</td>
                        <td>рж╕рзБрж╕рзНрже ржУ рж░рзЛржЧржорзБржХрзНржд ржЪрж╛рж░рж╛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</td>
                        <td>ржЧрж╛ржЫрзЗрж░ ржнрж╛рж▓рзЛ ржмрзГржжрзНржзрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ</td>
                    </tr>
                    <tr>
                        <td>рж░рзЛржкржг ржжрзВрж░рждрзНржм</td>
                        <td>рзи ржорж┐ржЯрж╛рж░ ├Ч рзи ржорж┐ржЯрж╛рж░ ржжрзВрж░рждрзНржмрзЗ рж░рзЛржкржг ржХрж░рзБржи</td>
                        <td>ржЧрж╛ржЫрзЗрж░ ржкрж░рзНржпрж╛ржкрзНржд ржмрзГржжрзНржзрж┐рж░ ржЬржирзНржп ржЬрж╛ржпрж╝ржЧрж╛</td>
                    </tr>
                    <tr>
                        <td>рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝</td>
                        <td>ржмрж░рзНрж╖рж╛ржХрж╛рж▓рзЗ рж░рзЛржкржг ржХрж░рж╛ ржЙрждрзНрждржо</td>
                        <td>ржЪрж╛рж░рж╛рж░ establishment ржПрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд рж╕ржоржпрж╝</td>
                    </tr>
                    <tr>
                        <td>рж░рзЛржкржг ржкржжрзНржзрждрж┐</td>
                        <td>ржЧрж░рзНрждрзЗрж░ ржорж╛ржЭржЦрж╛ржирзЗ ржЪрж╛рж░рж╛ рж╕рзНржерж╛ржкржи ржХрж░рзЗ ржорж╛ржЯрж┐ ржжрж┐ржпрж╝рзЗ ржврзЗржХрзЗ ржжрж┐ржи</td>
                        <td>ржЪрж╛рж░рж╛рж░ рж╢рж┐ржХржбрж╝ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржмрж┐рж╕рзНрждрж╛рж░ ржХрж░рждрзЗ</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ================== рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ================== -->
        <section class="section-card">
            <span class="badge">ЁЯТз рж╕рзЗржЪ</span>
            <h2>ЁЯМ┐ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗ рж╕рзЗржЪ ржжрзЗржУржпрж╝рж╛рж░ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржкрж░рзНржпрж╛ржпрж╝</th>
                        <th>ржХржЦржи рж╕рзЗржЪ ржжрж┐ржмрзЗржи</th>
                        <th>ржХрзАржнрж╛ржмрзЗ / ржирж┐рж░рзНржжрзЗрж╢ржирж╛</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ржЪрж╛рж░рж╛ рж░рзЛржкржгрзЗрж░ ржкрж░</td>
                        <td>рж░рзЛржкржгрзЗрж░ ржкрж░ржкрж░ржЗ</td>
                        <td>рж╣рж╛рж▓ржХрж╛ рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржорж╛ржЯрж┐ ржнрж┐ржЬрзЗ ржпрж╛ржпрж╝</td>
                    </tr>
                    <tr>
                        <td>рж╢рзБрж╖рзНржХ ржорзМрж╕рзБржо</td>
                        <td>рзн-рззрзж ржжрж┐ржи ржкрж░ржкрж░</td>
                        <td>ржорж╛ржЯрж┐ рж╢рзБржХрж╛рж▓рзЗ ржирж┐ржпрж╝ржорж┐ржд рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ</td>
                    </tr>
                    <tr>
                        <td>ржмрж░рзНрж╖рж╛ ржорзМрж╕рзБржо</td>
                        <td>ржкрзНрж░ржпрж╝рзЛржЬржи ржЕржирзБржпрж╛ржпрж╝рзА</td>
                        <td>ржмрзГрж╖рзНржЯрж┐ ржирж╛ рж╣рж▓рзЗ рж╣рж╛рж▓ржХрж╛ рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ</td>
                    </tr>
                    <tr>
                        <td>ржЧрж╛ржЫ ржмржбрж╝ рж╣ржУржпрж╝рж╛рж░ ржкрж░</td>
                        <td>рззрзл-рзирзж ржжрж┐ржи ржкрж░ржкрж░</td>
                        <td>ржкрж░рзНржпрж╛ржкрзНржд рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ ржХрж┐ржирзНрждрзБ ржЬрж▓рж╛ржмржжрзНржзрждрж╛ ржПржбрж╝рж┐ржпрж╝рзЗ</td>
                    </tr>
                </tbody>
            </table>

            <h2>ЁЯМ┐ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржЯрж┐ржкрж╕</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржЯрж┐ржкрж╕</th>
                        <th>ржХрж╛рж░ржг / ржЙржкржХрж╛рж░рж┐рждрж╛</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ржорж╛рж▓ржЪрж┐ржВ ржмрзНржпржмрж╣рж╛рж░</td>
                        <td>ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ рж╕ржВрж░ржХрзНрж╖ржг ржХрж░рзЗ ржПржмржВ рж╕рзЗржЪрзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржи ржХржорж╛ржпрж╝</td>
                    </tr>
                    <tr>
                        <td>ржбрзНрж░рзЗржирзЗржЬ ржмрзНржпржмрж╕рзНржерж╛</td>
                        <td>ржЬрж▓рж╛ржмржжрзНржзрждрж╛ рж░рзЛржз ржХрж░рзЗ, рж╢рж┐ржХржбрж╝ ржкржЪржи ржкрзНрж░рждрж┐рж░рзЛржз ржХрж░рзЗ</td>
                    </tr>
                    <tr>
                        <td>рж╕ржХрж╛рж▓рзЗ ржмрж╛ ржмрж┐ржХрзЗрж▓рзЗ рж╕рзЗржЪ</td>
                        <td>ржкрж╛ржирж┐рж░ ржмрж╛рж╖рзНржкрзАржнржмржи ржХржо рж╣ржпрж╝</td>
                    </tr>
                    <tr>
                        <td>ржорж╛ржЯрж┐ ржкрж░рзАржХрзНрж╖рж╛</td>
                        <td>ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗ рж╕рзЗржЪ ржжрж┐ржи</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ================== рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ================== -->
        <section id="fertilizer" class="section-card">
            <span class="badge">рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</span>
            <h2>ЁЯзк ржжрж╛рж░ржЪрж┐ржирж┐рж░ рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржЪрж╛рж░рзНржЯ</h2>
            <table>
                <thead>
                    <tr><th>рж╕ржоржпрж╝ / ржЕржмрж╕рзНржерж╛</th><th>рж╕рж╛рж░рзЗрж░ ржирж╛ржо</th><th>ржкрж░рж┐ржорж╛ржг/ржЧрж╛ржЫ</th><th>ржкрзНрж░ржпрж╝рзЛржЧ ржкржжрзНржзрждрж┐</th></tr>
                </thead>
                <tbody>
                    <tr><td>рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝</td><td>ржЬрзИржм рж╕рж╛рж░</td><td>рззрзж-рззрзл ржХрзЗржЬрж┐</td><td>ржЧрж░рзНрждрзЗрж░ ржорж╛ржЯрж┐рж░ рж╕рж╛ржерзЗ ржорж┐рж╢рж┐ржпрж╝рзЗ</td></tr>
                    <tr><td>рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝</td><td>ржЯрж┐ржПрж╕ржкрж┐</td><td>рззрзжрзж ржЧрзНрж░рж╛ржо</td><td>ржЧрж░рзНрждрзЗрж░ ржорж╛ржЯрж┐рж░ рж╕рж╛ржерзЗ ржорж┐рж╢рж┐ржпрж╝рзЗ</td></tr>
                    <tr><td>рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝</td><td>ржПржоржУржкрж┐</td><td>рзлрзж ржЧрзНрж░рж╛ржо</td><td>ржЧрж░рзНрждрзЗрж░ ржорж╛ржЯрж┐рж░ рж╕рж╛ржерзЗ ржорж┐рж╢рж┐ржпрж╝рзЗ</td></tr>
                    <tr><td>ржмрж░рзНрж╖рж╛рж░ ржкрж░</td><td>ржЗржЙрж░рж┐ржпрж╝рж╛</td><td>рзлрзж ржЧрзНрж░рж╛ржо</td><td>ржЧрж╛ржЫрзЗрж░ ржЧрзЛржбрж╝рж╛рж░ ржЪрж╛рж░ржкрж╛рж╢рзЗ</td></tr>
                    <tr><td>ржмржЫрж░рзЗ ржжрзБржЗржмрж╛рж░</td><td>ржЬрзИржм рж╕рж╛рж░</td><td>рзл-рззрзж ржХрзЗржЬрж┐</td><td>ржЧрж╛ржЫрзЗрж░ ржЧрзЛржбрж╝рж╛рж░ ржЪрж╛рж░ржкрж╛рж╢рзЗ</td></tr>
                    <tr><td>ржлрж▓ржиржХрж╛рж▓</td><td>NPK (рззрзж:рззрзж:рззрзж)</td><td>рзирзжрзж ржЧрзНрж░рж╛ржо</td><td>ржмржЫрж░рзЗ ржжрзБржЗржмрж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ</td></tr>
                </tbody>
            </table>
            <div class="chart-container"><canvas id="fertilizerChart"></canvas></div>
        </section>

        <!-- ================== рж╕рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ================== -->
        <section id="fert-calendar" class="section-card">
            <span class="badge">ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</span>
            <h2>ЁЯЧУ рж╕рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</h2>
            <div class="grid-2">
                <div>
                    <label>рж░рзЛржкржгрзЗрж░ рждрж╛рж░рж┐ржЦ: <input type="date" id="sowDate"></label>
                    <button onclick="buildFertCalendar()">ЁЯУЕ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи</button>
                    <button class="download-btn" onclick="downloadICS()">ЁЯУе .ics ржбрж╛ржЙржирж▓рзЛржб</button>
                </div>
                <div>
                    <table class="calendar" id="calendarTable">
                        <thead><tr><th>рждрж╛рж░рж┐ржЦ</th><th>ржХрж╛ржЬ</th><th>ржмрж┐ржмрж░ржг</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- ================== ржжрж╛рж░ржЪрж┐ржирж┐ ржЧрж╛ржЫрзЗрж░ ржкрж░рж┐ржЪрж░рзНржпрж╛ ================== -->
        <section class="section-card">
            <span class="badge">ржкрж░рж┐ржЪрж░рзНржпрж╛</span>
            
            <h2>ржЧрж╛ржЫ ржкрж░рж┐ржЪрж░рзНржпрж╛</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржзрж╛ржк</th>
                        <th>ржХрзА ржХрж░ржмрзЗржи</th>
                        <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ржЖржЧрж╛ржЫрж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг</td>
                        <td>ржирж┐ржпрж╝ржорж┐ржд ржЖржЧрж╛ржЫрж╛ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рзБржи</td>
                        <td>ржЧрж╛ржЫрзЗрж░ ржмрзГржжрзНржзрж┐рж░ ржЬржирзНржп ржкрзБрж╖рзНржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ</td>
                    </tr>
                    <tr>
                        <td>ржкрзНрж░рзБржирж┐ржВ</td>
                        <td>ржорж░рж╛ ржУ рж░рзЛржЧрж╛ржХрзНрж░рж╛ржирзНржд ржбрж╛рж▓ржкрж╛рж▓рж╛ ржХрзЗржЯрзЗ ржлрзЗрж▓рзБржи</td>
                        <td>ржЧрж╛ржЫрзЗрж░ рж╕рзНржмрж╛рж╕рзНржерзНржп ржУ ржЖржХрзГрждрж┐ ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрждрзЗ</td>
                    </tr>
                    <tr>
                        <td>ржорж╛рж▓ржЪрж┐ржВ</td>
                        <td>ржЧрж╛ржЫрзЗрж░ ржЧрзЛржбрж╝рж╛ржпрж╝ ржЦржбрж╝ ржмрж╛ ржкрж╛рждрж╛ ржжрж┐ржпрж╝рзЗ ржврзЗржХрзЗ ржжрж┐ржи</td>
                        <td>ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржзрж░рзЗ рж░рж╛ржЦрждрзЗ</td>
                    </tr>
                    <tr>
                        <td>рж░рзЛржЧ ржУ ржкрзЛржХрж╛ржорж╛ржХржбрж╝ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг</td>
                        <td>ржирж┐ржпрж╝ржорж┐ржд ржиржЬрж░ рж░рж╛ржЦрзБржи ржУ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐ржи</td>
                        <td>ржЧрж╛ржЫржХрзЗ рж╕рзБрж╕рзНрже рж░рж╛ржЦрждрзЗ</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ================== ржжрж╛рж░ржЪрж┐ржирж┐рж░ рж░рзЛржЧ ржУ рж╕ржорж╕рзНржпрж╛ ================== -->
        <section id="diseases" class="section-card">
            <span class="badge">рж░рзЛржЧржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</span>
            <h2>ЁЯРЫ ржжрж╛рж░ржЪрж┐ржирж┐рж░ ржкрзНрж░ржзрж╛ржи рж░рзЛржЧ ржУ ржкрзЛржХрж╛ржорж╛ржХржбрж╝</h2>
            <table>
                <thead><tr><th>рж░рзЛржЧ/ржкрзЛржХрж╛</th><th>рж▓ржХрзНрж╖ржг</th><th>ржкрзНрж░рждрж┐ржХрж╛рж░</th></tr></thead>
                <tbody>
                    <tr><td>ржбрж╛ржЗржмрзНржпрж╛ржХ рж░рзЛржЧ</td><td>ржбржЧрж╛ рж╢рзБржХрж┐ржпрж╝рзЗ ржпрж╛ржУржпрж╝рж╛</td><td>ржЖржХрзНрж░рж╛ржирзНржд ржЕржВрж╢ ржХрзЗржЯрзЗ ржлрзЗрж▓рж╛, ржмрзЛрж░рзНржжрзЛ ржорж┐рж╢рзНрж░ржг рж╕рзНржкрзНрж░рзЗ</td></tr>
                    <tr><td>ржЧрзЛржбрж╝рж╛ ржкржЪрж╛ рж░рзЛржЧ</td><td>ржЧрзЛржбрж╝рж╛ ржкржЪрзЗ ржпрж╛ржУржпрж╝рж╛</td><td>ржЬрж▓рж╛ржмржжрзНржзрждрж╛ ржПржбрж╝рж╛ржирзЛ, ржмрзНржпрж╛ржнрж┐рж╕рзНржЯрж┐ржи ржкрзНрж░ржпрж╝рзЛржЧ</td></tr>
                    <tr><td>ржкрж╛рждрж╛ ржжрж╛ржЧ рж░рзЛржЧ</td><td>ржкрж╛рждрж╛ржпрж╝ ржжрж╛ржЧ ржкржбрж╝рж╛</td><td>ржорж╛ржиржХрзЛржЬрзЗржм ржмрж╛ ржХржкрж╛рж░ ржЕржХрзНрж╕рж┐ржХрзНрж▓рзЛрж░рж╛ржЗржб рж╕рзНржкрзНрж░рзЗ</td></tr>
                    <tr><td>рж╕рж┐рж▓рж╛ ржкрзЛржХрж╛</td><td>ржкрж╛рждрж╛ ржХрзБржЪржХрж╛ржирзЛ</td><td>ржЗржорж┐ржбрж╛ржХрзНрж▓рзЛржкрзНрж░рж┐ржб ржмрж╛ ржирж┐ржо рждрзИрж▓ рж╕рзНржкрзНрж░рзЗ</td></tr>
                    <tr><td>рж╕рзНржХрзЗрж▓ ржкрзЛржХрж╛</td><td>ржбрж╛рж▓рзЗ ржЖржарж╛рж▓рзЛ ржкржжрж╛рж░рзНрже</td><td>ржорзНржпрж╛рж▓рж╛ржерж┐ржпрж╝ржи ржмрж╛ ржбрж╛ржпрж╝рж╛ржЬрж┐ржиржи рж╕рзНржкрзНрж░рзЗ</td></tr>
                </tbody>
            </table>
            <div class="chart-container"><canvas id="diseaseChart"></canvas></div>
        </section>

        <!-- ================== ржЫрж╛рж▓ рж╕ржВржЧрзНрж░рж╣ ржУ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЬрж╛рждржХрж░ржг ================== -->
        <section class="section-card">
            <span class="badge">рж╕ржВржЧрзНрж░рж╣ ржУ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЬрж╛рждржХрж░ржг</span>
            <h2>ЁЯМ┐ ржжрж╛рж░ржЪрж┐ржирж┐рж░ ржЫрж╛рж▓ рж╕ржВржЧрзНрж░рж╣ ржУ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЬрж╛рждржХрж░ржг</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржзрж╛ржк</th>
                        <th>ржХрзА ржХрж░ржмрзЗржи</th>
                        <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>рж╕ржВржЧрзНрж░рж╣рзЗрж░ рж╕ржоржпрж╝</td>
                        <td>ржмрж░рзНрж╖рж╛ ржорзМрж╕рзБржорзЗ ржЫрж╛рж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рзБржи</td>
                        <td>ржПржЗ рж╕ржоржпрж╝рзЗ ржЫрж╛рж▓ рж╕рж╣ржЬрзЗ ржЙржарзЗ</td>
                    </tr>
                    <tr>
                        <td>рж╕ржВржЧрзНрж░рж╣ ржкржжрзНржзрждрж┐</td>
                        <td>ржбрж╛рж▓рзЗрж░ ржЪрж╛рж░ржжрж┐ржХ ржерзЗржХрзЗ ржЫрж╛рж▓ ржЫрж╛ржбрж╝рж╛ржи</td>
                        <td>рж╕ржорзНржкрзВрж░рзНржг ржЫрж╛рж▓ рж╕ржВржЧрзНрж░рж╣ ржХрж░рждрзЗ</td>
                    </tr>
                    <tr>
                        <td>рж╢рзБржХрж╛ржирзЛ</td>
                        <td>ржЫрж╛рж▓ ржЫрж╛ржпрж╝рж╛ржпрж╝ рж╢рзБржХрж╛ржи</td>
                        <td>ржЧрзБржгржЧржд ржорж╛ржи ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрждрзЗ</td>
                    </tr>
                    <tr>
                        <td>рж╕ржВрж░ржХрзНрж╖ржг</td>
                        <td>рж╢рзБржХржирзЛ ржЫрж╛рж▓ ржПржпрж╝рж╛рж░ржЯрж╛ржЗржЯ ржкрж╛рждрзНрж░рзЗ рж░рж╛ржЦрзБржи</td>
                        <td>рж╕рзБржЧржирзНржзрж┐ ржУ ржЧрзБржгрж╛ржЧрзБржг рж░ржХрзНрж╖рж╛рж░рзНржерзЗ</td>
                    </tr>
                </tbody>
            </table>
            
            <h2>ЁЯМ┐ ржжрж╛рж░ржЪрж┐ржирж┐рж░ ржмрзНржпржмрж╣рж╛рж░</h2>
            <table>
                <thead>
                    <tr>
                        <th>ржмрзНржпржмрж╣рж╛рж░</th>
                        <th>ржмрж┐ржмрж░ржг</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ржорж╕рж▓рж╛</td>
                        <td>ржЦрж╛ржжрзНржпрзЗ рж╕рзБржЧржирзНржзрж┐ ржУ рж╕рзНржмрж╛ржж ржмрзГржжрзНржзрж┐ржХрж╛рж░рзА</td>
                    </tr>
                    <tr>
                        <td>ржФрж╖ржзрж┐</td>
                        <td>ржбрж╛ржпрж╝рж╛ржмрзЗржЯрж┐рж╕ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг, рж╕рж░рзНржжрж┐-ржХрж╛рж╢рж┐рж░ ржЪрж┐ржХрж┐рзОрж╕рж╛</td>
                    </tr>
                    <tr>
                        <td>рждрзИрж▓</td>
                        <td>ржЕрзНржпрж╛рж░рзЛржорж╛ржерзЗрж░рж╛ржкрж┐ ржУ ржФрж╖ржзрзЗ ржмрзНржпржмрж╣рж╛рж░</td>
                    </tr>
                    <tr>
                        <td>ржХрж╕ржорзЗржЯрж┐ржХрзНрж╕</td>
                        <td>рж╕рзБржЧржирзНржзрж┐ ржУ рждрзНржмржХрзЗрж░ ржпрждрзНржирзЗ</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- ================== рж╕рзНржерж╛ржирзАржпрж╝ ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп ================== -->
        <section id="market-price" class="section-card">
            <span class="badge">ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп</span>
            <h2><i class="fas fa-money-bill-wave"></i> рж╕рзНржерж╛ржирзАржпрж╝ ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп</h2>
            <p>ржмрж┐ржнрж┐ржирзНржи ржЕржЮрзНржЪрж▓рзЗ ржжрж╛рж░ржЪрж┐ржирж┐рж░ ржмрж░рзНрждржорж╛ржи ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп (ржкрзНрж░рждрж┐ ржХрзЗржЬрж┐)</p>
            
            <div class="price-card">
                <div class="price-header">
                    <div class="price-region">ржврж╛ржХрж╛</div>
                    <div class="price-value">рз│ рзмрзжрзж-рзорзжрзж</div>
                </div>
                <div class="price-date">рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: ржЖржЬ</div>
            </div>
            
            <div class="price-card">
                <div class="price-header">
                    <div class="price-region">ржЪржЯрзНржЯржЧрзНрж░рж╛ржо</div>
                    <div class="price-value">рз│ рзлрзлрзж-рзнрзлрзж</div>
                </div>
                <div class="price-date">рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: ржЧрждржХрж╛рж▓</div>
            </div>
            
            <div class="price-card">
                <div class="price-header">
                    <div class="price-region">рж╕рж┐рж▓рзЗржЯ</div>
                    <div class="price-value">рз│ рзлрзжрзж-рзнрзжрзж</div>
                </div>
                <div class="price-date">рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: рзи ржжрж┐ржи ржЖржЧрзЗ</div>
            </div>
            
            <div class="price-card">
                <div class="price-header">
                    <div class="price-region">ржЦрзБрж▓ржирж╛</div>
                    <div class="price-value">рз│ рзмрзлрзж-рзорзлрзж</div>
                </div>
                <div class="price-date">рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: рзй ржжрж┐ржи ржЖржЧрзЗ</div>
            </div>
            
            <div class="price-card">
                <div class="price-header">
                    <div class="price-region">рж░рж╛ржЬрж╢рж╛рж╣рзА</div>
                    <div class="price-value">рз│ рзмрзирзж-рзорзирзж</div>
                </div>
                <div class="price-date">рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: ржЖржЬ</div>
            </div>
            
            <div style="margin-top: 20px;">
                <button onclick="refreshPrices()"><i class="fas fa-sync-alt"></i> ржорзВрж▓рзНржп рж╣рж╛рж▓ржирж╛ржЧрж╛ржж ржХрж░рзБржи</button>
                <small class="hint">ржорзВрж▓рзНржпржЧрзБрж▓рзЛ рж╕рзНржерж╛ржирзАржпрж╝ ржХрзГрж╖рж┐ ржмрж┐ржкржгржи ржмрж┐ржнрж╛ржЧ ржерзЗржХрзЗ рж╕ржВржЧрзНрж░рж╣ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ</small>
            </div>
        </section>

        <!-- ================== ржлрж▓ржи ржЕржирзБржорж╛ржиржХрж╛рж░рзА ================== -->
        <section id="yield-estimator" class="section-card">
            <span class="badge">ржлрж▓ржи ржкрзНрж░рзЗржбрж┐ржХрж╢ржи</span>
            <h2>ЁЯУИ ржжрж╛рж░ржЪрж┐ржирж┐рж░ ржлрж▓ржи ржЕржирзБржорж╛ржи</h2>
            <div class="grid-2">
                <div>
                    <label>ржПрж▓рж╛ржХрж╛ (ржмрж┐ржШрж╛): <input type="number" id="areaBigha" min="0" step="0.01" value="1"></label>
                    <label>ржЧрж╛ржЫрзЗрж░ рж╕ржВржЦрзНржпрж╛ (ржмрж┐ржШрж╛ ржкрзНрж░рждрж┐): <input type="number" id="plantsPerBigha" min="50" step="10" value="200"></label>
                    <label>ржЧрж╛ржЫрзЗрж░ ржмржпрж╝рж╕ (ржмржЫрж░): <input type="number" id="plantAge" min="2" max="10" value="3"></label>
                    <label>ржкрзНрж░рждрж┐ ржЧрж╛ржЫрзЗ ржЫрж╛рж▓ (ржХрзЗржЬрж┐): <input type="number" id="barkPerPlant" min="0.1" step="0.1" value="0.5"></label>
                    <label>ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржлрзНржпрж╛ржХрзНржЯрж░ (рзж.рзнтАУрзз.2): <input type="number" id="mgmtFactor" min="0.7" max="1.2" step="0.05" value="1.0"></label>
                    <button onclick="estimateYield()">ЁЯзо ржлрж▓ржи рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи</button>
                    <div id="yieldSummary" style="font-weight:700;"></div>
                </div>
                <div>
                    <div class="chart-container"><canvas id="yieldBreakdownChart"></canvas></div>
                </div>
            </div>
            <small class="hint">ржирзЛржЯ: рзз ржмрж┐ржШрж╛ тЙИ рззрзйрзйрзн.рзорзжрзй ржмрж░рзНржЧржорж┐ржЯрж╛рж░ ржзрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред</small>
        </section>

        <!-- ================== ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ ================== -->
        <section class="section-card">
            <span class="badge">рж▓рж╛ржн/ржХрзНрж╖рждрж┐ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</span>
            <h2>ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ (рж▓рж╛ржн/ржХрзНрж╖рждрж┐)</h2>
            <label for="area">ржХрзНрж╖рзЗрждрзЗрж░ ржЖржХрж╛рж░ (ржмрж┐ржШрж╛)</label>
            <input type="number" id="area" placeholder="ржХрзНрж╖рзЗрждрзЗрж░ ржЖржХрж╛рж░ рж▓рж┐ржЦрзБржи">
            
            <label for="cost">ржорзЛржЯ ржЦрж░ржЪ (ржЯрж╛ржХрж╛)</label>
            <input type="number" id="cost" placeholder="ржорзЛржЯ ржЦрж░ржЪ рж▓рж┐ржЦрзБржи">
            
            <label for="yield">ржлрж╕рж▓рзЗрж░ рж╕ржорзНржнрж╛ржмрзНржп ржЙрзОржкрж╛ржжржи (ржХрзЗржЬрж┐)</label>
            <input type="number" id="yield" placeholder="ржлрж╕рж▓рзЗрж░ рж╕ржорзНржнрж╛ржмрзНржп ржЙрзОржкрж╛ржжржи">
            
            <label for="price">ржмрж╛ржЬрж╛рж░рзЗ ржкрзНрж░рждрж┐ ржХрзЗржЬрж┐рж░ ржжрж╛ржо (ржЯрж╛ржХрж╛)</label>
            <input type="number" id="price" placeholder="ржмрж╛ржЬрж╛рж░рзЗрж░ ржжрж╛ржо">
            
            <button onclick="calculateProfit()">рж▓рж╛ржн/ржХрзНрж╖рждрж┐ рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи</button>
            <p id="profit-msg"></p>
        </section>

        <!-- ================== ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐ ================== -->
        <section class="section-card">
            <span class="badge">ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐</span>
            <h2>ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐</h2>
            <label for="comment">ржЖржкржирж╛рж░ ржоржирзНрждржмрзНржп рж▓рж┐ржЦрзБржи:</label>
            <textarea id="comment" rows="3" placeholder="ржПржЦрж╛ржирзЗ рж▓рж┐ржЦрзБржи..."></textarea>
            <button onclick="postComment()">ржоржирзНрждржмрзНржп ржкрзЛрж╕рзНржЯ ржХрж░рзБржи</button>
            <div class="comment-box" id="comment-box"></div>
        </section>
        
        <!-- ржорзВрж▓ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи ржмрж╛ржЯржи -->
        <div style="text-align: center; margin-top: 30px;">
            <button class="back-btn" onclick="window.location.href='index.html'">ЁЯПа ржорзВрж▓ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
        </div>

        <!-- рж▓рж╛ржн ржХрзНрж╖рждрж┐ рж╣рж┐рж╕рж╛ржм ржлрж┐рж░рзЗ ржпрж╛ржи ржмрж╛ржЯржи -->
        <div style="text-align: center; margin-top: 30px; margin-bottom: 30px;">
            <button class="back-btn" onclick="window.location.href='calculator.html'">ржХрзГрж╖рж┐ ржЦрж░ржЪ ржУ рж▓рж╛ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</button>
        </div>
    </div><script>
        // ================== Dark Mode ==================
        function toggleDarkMode() { 
            document.body.classList.toggle('dark-mode');
            const icon = document.querySelector('.switch i');
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
                document.querySelector('.switch').innerHTML = '<i class="fas fa-sun"></i> рж▓рж╛ржЗржЯ ржорзЛржб';
            } else {
                icon.className = 'fas fa-moon';
                document.querySelector('.switch').innerHTML = '<i class="fas fa-moon"></i> ржбрж╛рж░рзНржХ ржорзЛржб';
            }
        }

        // ================== Checklist ==================
        let answers = [null, null, null, null, null, null];
        
        function setAnswer(index, value, btn) {
            answers[index] = value;
            let btnGroup = btn.parentElement.children;
            for(let b of btnGroup) { 
                b.style.backgroundColor = ""; 
                b.style.color = ""; 
            }
            btn.style.backgroundColor = value ? '#4caf50' : '#f44336';
            btn.style.color = "#fff";
        }
        
        function showFinalResult() {
            if(answers.includes(null)) { 
                alert("ржжржпрж╝рж╛ ржХрж░рзЗ рж╕ржм ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрж┐ржи!"); 
                return;
            }
            let sum = answers.reduce((a, b) => a + b, 0);
            let resultText = sum === 6 ? "тЬЕ ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржкрзБрж░рзЛржкрзБрж░рж┐ ржЙржкржпрзБржХрзНрждред" :
                             sum >= 4 ? "тЪа ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЖржВрж╢рж┐ржХ ржЙржкржпрзБржХрзНрждред ржХрж┐ржЫрзБ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐рждрзЗ рж╣ржмрзЗред" :
                                        "тЭМ ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржиржпрж╝ред";
            document.getElementById("finalResult").innerHTML = resultText;
        }

        // ================== Charts: Fertilizer & Disease ==================
        new Chart(document.getElementById('fertilizerChart'), {
            type: 'bar',
            data: {
                labels: ['рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝ (ржЬрзИржм рж╕рж╛рж░)', 'рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝ (TSP)', 'рж░рзЛржкржгрзЗрж░ рж╕ржоржпрж╝ (MOP)', 'ржмрж░рзНрж╖рж╛рж░ ржкрж░ (ржЗржЙрж░рж┐ржпрж╝рж╛)', 'ржмржЫрж░рзЗ ржжрзБржЗржмрж╛рж░ (ржЬрзИржм рж╕рж╛рж░)', 'ржлрж▓ржиржХрж╛рж▓ (NPK)'],
                datasets: [{ 
                    label: 'рж╕рж╛рж░рзЗрж░ ржкрж░рж┐ржорж╛ржг', 
                    data: [12.5, 0.1, 0.05, 0.05, 7.5, 0.2],
                    backgroundColor: ['#8d6e63', '#78909c', '#26a69a', '#ffa726', '#7b1fa2', '#5c6bc0']
                }]
            },
            options: { 
                responsive: true, 
                plugins: {
                    title: {
                        display: true,
                        text: 'ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ рж╕рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ (ржкрзНрж░рждрж┐ ржЧрж╛ржЫ)'
                    }
                }, 
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'ржХрзЗржЬрж┐/ржЧрзНрж░рж╛ржо'
                        }
                    }
                } 
            }
        });
        
        new Chart(document.getElementById('diseaseChart'), {
            type: 'bar',
            data: { 
                labels: ['ржбрж╛ржЗржмрзНржпрж╛ржХ рж░рзЛржЧ', 'ржЧрзЛржбрж╝рж╛ ржкржЪрж╛ рж░рзЛржЧ', 'ржкрж╛рждрж╛ ржжрж╛ржЧ рж░рзЛржЧ', 'рж╕рж┐рж▓рж╛ ржкрзЛржХрж╛', 'рж╕рзНржХрзЗрж▓ ржкрзЛржХрж╛'],
                datasets: [{
                    label: 'ржШржЯржирж╛рж░ ржорж╛рждрзНрж░рж╛ (рзз-рзл)', 
                    data: [3, 2, 4, 3, 2],
                    backgroundColor: ['#e53935', '#fb8c00', '#43a047', '#1e88e5', '#8e24aa']
                }]
            },
            options: { 
                responsive: true, 
                scales: {
                    y: {
                        beginAtZero: true, 
                        max: 5
                    }
                } 
            }
        });

        // ================== Research: Suitability & Yield mini-chart ==================
        let yieldChart = new Chart(document.getElementById('yieldChart'), {
            type: 'bar',
            data: { 
                labels: ['рзи ржмржЫрж░', 'рзй ржмржЫрж░', 'рзк ржмржЫрж░', 'рзл ржмржЫрж░'],
                datasets: [{
                    label: 'ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ржХрзГржд ржлрж▓ржи (ржХрзЗржЬрж┐/ржмрж┐ржШрж╛)', 
                    data: [0, 0, 0, 0], 
                    backgroundColor: ['#8d6e63', '#78909c', '#26a69a', '#ffa726']
                }]
            },
            options: { 
                responsive: true, 
                plugins: {
                    title: {
                        display: true,
                        text: 'ржжрж╛рж░ржЪрж┐ржирж┐рж░ рж╕ржорзНржнрж╛ржмрзНржп ржлрж▓ржи (ржмржпрж╝рж╕ ржЕржирзБрж╕рж╛рж░рзЗ)'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'ржХрзЗржЬрж┐/ржмрж┐ржШрж╛'
                        }
                    }
                }
            }
        });
        
        function calculateSuitability() {
            let ph = parseFloat(document.getElementById("soilPH").value);
            let om = parseFloat(document.getElementById("soilOM").value);
            let temp = parseFloat(document.getElementById("temp").value);
            let hum = parseFloat(document.getElementById("humidity").value);
            let score = 0;
            
            if(ph >= 5.5 && ph <= 6.5) score++;
            if(om >= 2 && om <= 5) score++;
            if(temp >= 20 && temp <= 30) score++;
            if(hum >= 70 && hum <= 85) score++;
            
            let resultText = score === 4 ? "тЬЕ ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛ржпрж╝рзБ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЦрзБржмржЗ ржЙржкржпрзБржХрзНрждред" :
                            score >= 2 ? "тЪа ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛ржпрж╝рзБ ржЖржВрж╢рж┐ржХ ржЙржкржпрзБржХрзНрждред ржХрж┐ржЫрзБ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐рждрзЗ рж╣ржмрзЗред" :
                                        "тЭМ ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛ржпрж╝рзБ ржжрж╛рж░ржЪрж┐ржирж┐ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржиржпрж╝ред";
            
            document.getElementById("suitabilityResult").innerHTML = resultText;
            
            let predictedYield = score === 4 ? [50, 100, 150, 200] : score >= 2 ? [30, 70, 100, 130] : [10, 30, 50, 70];
            yieldChart.data.datasets[0].data = predictedYield; 
            yieldChart.update();
        }
        
        function updateDiseaseRisk() {
            let hum = +document.getElementById("diseaseHumidity").value;
            let riskText = hum < 60 ? "ржирж┐ржорзНржи" : (hum <= 80 ? "ржорж╛ржЭрж╛рж░рж┐" : "ржЙржЪрзНржЪ");
            document.getElementById("diseaseRisk").innerHTML = "ржЭрзБржБржХрж┐: " + riskText;
        }

        // ================== рж╕рзНржерж╛ржирзАржпрж╝ ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп ==================
        function refreshPrices() {
            alert('ржмрж╛ржЬрж╛рж░ ржорзВрж▓рзНржп рж╣рж╛рж▓ржирж╛ржЧрж╛ржж ржХрж░рж╛ рж╣ржЪрзНржЫрзЗ...\nржмрж╛рж╕рзНрждржмх║ФчФиф╕н, ржПржЯрж┐ API ржерзЗржХрзЗ рж╕рж░рзНржмрж╢рзЗрж╖ рждржерзНржп ржирж┐ржпрж╝рзЗ ржЖрж╕ржмрзЗред');
            
            // ржПрж▓рзЛржорзЗрж▓рзЛржнрж╛ржмрзЗ ржорзВрж▓рзНржп slightly ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рж╛рж░ рж╕рж┐ржорзБрж▓рзЗрж╢ржи
            const priceCards = document.querySelectorAll('.price-card');
            priceCards.forEach(card => {
                const priceElement = card.querySelector('.price-value');
                const currentPrice = priceElement.innerText;
                const prices = currentPrice.match(/\d+/g);
                if (prices && prices.length >= 2) {
                    let min = parseInt(prices[0]);
                    let max = parseInt(prices[1]);
                    
                    // ржПрж▓рзЛржорзЗрж▓рзЛржнрж╛ржмрзЗ +/- рзирзж ржЯрж╛ржХрж╛ ржкрж░рж┐ржмрж░рзНрждржи
                    min = Math.max(400, min + Math.floor(Math.random() * 40) - 20);
                    max = Math.max(500, max + Math.floor(Math.random() * 40) - 20);
                    
                    priceElement.innerText = `рз│ ${min}-${max}`;
                    
                    // рждрж╛рж░рж┐ржЦ ржЖржкржбрзЗржЯ ржХрж░рзБржи
                    const dateElement = card.querySelector('.price-date');
                    dateElement.innerText = 'рж╕рж░рзНржмрж╢рзЗрж╖ рж╣рж╛рж▓ржирж╛ржЧрж╛ржж: ржЖржЬ';
                }
            });
        }

        // ================== ржлрж┐ржЪрж╛рж░ рзи: рж╕рж╛рж░ ржкрзНрж░ржпрж╝рзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ==================
        function addDays(date, days) { 
            const d = new Date(date); 
            d.setDate(d.getDate() + days); 
            return d; 
        }
        
        function fmt(d) { 
            return d.toLocaleDateString('bn-BD', { year: 'numeric', month: 'long', day: 'numeric' }); 
        }

        function buildFertCalendar() {
            const sow = document.getElementById('sowDate').value;
            if(!sow) { 
                alert("рж░рзЛржкржгрзЗрж░ рждрж╛рж░рж┐ржЦ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи"); 
                return; 
            }
            
            // baseline schedule (ржжрж┐ржи рж╣рж┐рж╕рж╛ржмрзЗ)
            const schedule = [
                { offset: 0,   task: "ржмрзЗрж╕рж╛рж▓ рж╕рж╛рж░", desc: "ржЬрзИржм рж╕рж╛рж░ рззрзж-рззрзл ржХрзЗржЬрж┐, TSP рззрзжрзж ржЧрзНрж░рж╛ржо, MOP рзлрзж ржЧрзНрж░рж╛ржо" },
                { offset: 180, task: "ржкрзНрж░ржержо ржЯржк ржбрзНрж░рзЗрж╕рж┐ржВ", desc: "ржЗржЙрж░рж┐ржпрж╝рж╛ рзлрзж ржЧрзНрж░рж╛ржо ржкрзНрж░рждрж┐ ржЧрж╛ржЫ" },
                { offset: 365, task: "ржмржЫрж░рж┐ржХ рж╕рж╛рж░", desc: "ржЬрзИржм рж╕рж╛рж░ рзл-рззрзж ржХрзЗржЬрж┐, NPK рзирзжрзж ржЧрзНрж░рж╛ржо" },
                { offset: 545, task: "ржжрзНржмрж┐рждрзАржпрж╝ ржЯржк ржбрзНрж░рзЗрж╕рж┐ржВ", desc: "NPK рзирзжрзж ржЧрзНрж░рж╛ржо ржкрзНрж░рждрж┐ ржЧрж╛ржЫ" },
                { offset: 730, task: "ржжрзНржмрж┐рждрзАржпрж╝ ржмржЫрж░рж┐ржХ рж╕рж╛рж░", desc: "ржЬрзИржм рж╕рж╛рж░ рзл-рззрзж ржХрзЗржЬрж┐, NPK рзирзжрзж ржЧрзНрж░рж╛ржо" }
            ];
            
            const tbody = document.querySelector('#calendarTable tbody');
            tbody.innerHTML = "";
            
            schedule.sort((a, b) => a.offset - b.offset).forEach(s => {
                const tr = document.createElement('tr');
                const date = fmt(addDays(sow, s.offset));
                tr.innerHTML = `<td>${date}</td><td>${s.task}</td><td>${s.desc}</td`;
                tbody.appendChild(tr);
            });
            
            // cache for ICS
            window._lastSchedule = { sow, schedule };
        }

        function downloadICS() {
            if(!window._lastSchedule) { 
                alert("ржЖржЧрзЗ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи"); 
                return; 
            }
            
            const { sow, schedule } = window._lastSchedule;
            const lines = [
                "BEGIN:VCALENDAR", "VERSION:2.0", "PRODID:-//Cinnamon Scheduler//BN",
            ];
            
            schedule.forEach((s, i) => {
                const dt = new Date(addDays(sow, s.offset));
                const dtStr = dt.toISOString().replace(/[-:]/g, "").split(".")[0] + "Z";
                
                lines.push(
                    "BEGIN:VEVENT",
                    'UID:cinnamon-${i}-${Date.now()}@local',
                    'DTSTAMP:${dtStr}',
                    'DTSTART:${dtStr}',
                    'SUMMARY:${s.task}',
                    'DESCRIPTION:${s.desc}',
                    "END:VEVENT"
                );
            });
            
            lines.push("END:VCALENDAR");
            
            const blob = new Blob([lines.join("\r\n")], { type: "text/calendar" });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; 
            a.download = "cinnamon_fertilizer_schedule.ics"; 
            a.click();
            URL.revokeObjectURL(url);
        }

        // ================== ржлрж┐ржЪрж╛рж░ рзй: ржлрж▓ржи ржЕржирзБржорж╛ржиржХрж╛рж░рзА ==================
        let yieldBreakdownChart = new Chart(document.getElementById('yieldBreakdownChart'), {
            type: 'bar',
            data: { 
                labels: ['ржорзЛржЯ ржЧрж╛ржЫ', 'ржорзЛржЯ ржЫрж╛рж▓ (ржХрзЗржЬрж┐)', 'ржмрж┐ржШрж╛ ржкрзНрж░рждрж┐ (ржХрзЗржЬрж┐)'],
                datasets: [{ 
                    label: 'ржорж╛ржи', 
                    data: [0, 0, 0] 
                }]
            },
            options: { 
                responsive: true, 
                plugins: {
                    title: {
                        display: true,
                        text: 'ржлрж▓ржи ржмрзНрж░рзЗржХржбрж╛ржЙржи'
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                } 
            }
        });
        
        function estimateYield() {
            const areaBigha = +document.getElementById('areaBigha').value;
            const plantsPerBigha = +document.getElementById('plantsPerBigha').value;
            const plantAge = +document.getElementById('plantAge').value;
            const barkPerPlant = +document.getElementById('barkPerPlant').value;
            const mgmt = +document.getElementById('mgmtFactor').value;

            const totalPlants = areaBigha * plantsPerBigha;
            
            // ржмржпрж╝рж╕ ржЕржирзБржпрж╛ржпрж╝рзА ржлрж▓ржи ржлрзНржпрж╛ржХрзНржЯрж░ (рзи ржмржЫрж░ = рзж.рзл, рзй ржмржЫрж░ = рзз, рзк ржмржЫрж░ = рзз.рзл, рзл+ ржмржЫрж░ = рзи)
            let ageFactor = 1;
            if (plantAge === 2) ageFactor = 0.5;
            else if (plantAge === 3) ageFactor = 1;
            else if (plantAge === 4) ageFactor = 1.5;
            else if (plantAge >= 5) ageFactor = 2;
            
            const totalBark = totalPlants * barkPerPlant * ageFactor * mgmt;
            const perBighaBark = totalBark / areaBigha;

            yieldBreakdownChart.data.datasets[0].data = [totalPlants, +totalBark.toFixed(1), +perBighaBark.toFixed(1)];
            yieldBreakdownChart.update();

            document.getElementById('yieldSummary').innerHTML =
                `ЁЯМ╛ ржорзЛржЯ ржЧрж╛ржЫ: <b>${totalPlants.toLocaleString('bn-BD')}</b>, ржорзЛржЯ ржЫрж╛рж▓: <b>${totalBark.toFixed(1)} ржХрзЗржЬрж┐</b> (ржмрж┐ржШрж╛ ржкрзНрж░рждрж┐ ~ <b>${perBighaBark.toFixed(1)} ржХрзЗржЬрж┐</b>).`;
        }

        // ===== рж▓рж╛ржн/ржХрзНрж╖рждрж┐ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ =====
        function calculateProfit() {
            const area = parseFloat(document.getElementById('area').value);
            const cost = parseFloat(document.getElementById('cost').value);
            const yieldKg = parseFloat(document.getElementById('yield').value);
            const price = parseFloat(document.getElementById('price').value);

            if(isNaN(area) || isNaN(cost) || isNaN(yieldKg) || isNaN(price)) {
                alert('рж╕ржм ржЗржиржкрзБржЯ ржкрзВрж░ржг ржХрж░рзБржи!');
                return;
            }

            const revenue = yieldKg * price;
            const profit = revenue - cost;

            let msg = `ржорзЛржЯ ржЖржпрж╝: ${revenue.toLocaleString('bn-BD')} ржЯрж╛ржХрж╛, рж▓рж╛ржн/ржХрзНрж╖рждрж┐: ${profit.toLocaleString('bn-BD')} ржЯрж╛ржХрж╛`;
            if(profit > 0) msg += ' тЬЕ ржЖржкржирж┐ рж▓рж╛ржнрзЗ ржЖржЫрзЗржиред';
            else if(profit < 0) msg += ' тЭМ ржЖржкржирж┐ ржХрзНрж╖рждрж┐рждрзЗ ржЖржЫрзЗржиред';
            else msg += ' тЪЦ ржЖржкржирж┐ ржирж┐ржЦрзБржБржд ржмрзНржпрж╛рж▓рж╛ржирзНрж╕рзЗ ржЖржЫрзЗржиред';

            document.getElementById('profit-msg').innerText = msg;
        }

        // ===== ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐ =====
        function postComment() {
            const commentText = document.getElementById('comment').value;
            if(!commentText) return;
            
            const commentBox = document.getElementById('comment-box');
            const div = document.createElement('div');
            div.className = 'comment';
            div.innerText = commentText;
            commentBox.prepend(div);
            
            document.getElementById('comment').value = '';
        }

        // Initialize charts on page load
        document.addEventListener('DOMContentLoaded', function() {
            calculateSuitability();
            updateDiseaseRisk();
        });
    </script>
</body>
</html>