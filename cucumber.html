<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
/* рж╕рж╛ржзрж╛рж░ржг рж╕рзНржЯрж╛ржЗрж▓ */
body { 
    font-family: 'SolaimanLipi', sans-serif; 
    background: #f9f9f9; 
    margin:0; 
    padding:0;
    color: #333;
}
.dark-mode { 
    background-color: #121212; 
    color: #f1f1f1; 
}
header { 
    background:#2e7d32; 
    color:white; 
    padding:15px; 
    text-align:center;
    display:flex; 
    align-items:center; 
    justify-content:center; 
    gap:16px; 
    flex-wrap:wrap;
}
.container { 
    max-width: 1200px; 
    margin:auto; 
    padding:20px;
}
.section { 
    background:white; 
    padding:20px; 
    margin-bottom:20px; 
    border-radius:8px; 
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
}
h2 { 
    color:#2e7d32;
}
button { 
    background:#2e7d32; 
    color:white; 
    border:none; 
    padding:10px 20px; 
    border-radius:5px; 
    cursor:pointer;
}
button:hover { 
    background:#1b5e20;
}
input, select { 
    padding:8px; 
    margin:5px 0; 
    width:100%; 
    border-radius:5px; 
    border:1px solid #ccc;
}
textarea { 
    width:100%; 
    padding:8px; 
    border-radius:5px; 
    border:1px solid #ccc;
}
.comment-box { 
    border-top:1px solid #ccc; 
    padding-top:10px; 
    margin-top:10px;
}
.comment { 
    background:#e8f5e9; 
    padding:10px; 
    margin-bottom:5px; 
    border-radius:5px;
}
.lang-btn { 
    margin-right:10px; 
}

/* ржЙржирзНржиржд рж╕рзНржЯрж╛ржЗрж▓ */
h2, h3 { 
    margin-top: 20px; 
}
ul { 
    margin-left: 20px; 
}
table { 
    width: 100%; 
    border-collapse: collapse; 
    margin-top: 15px; 
}
table, th, td { 
    border: 1px solid #ccc; 
}
th, td { 
    padding: 10px; 
    text-align: left; 
}
th { 
    background-color: #ffe0b2; 
}
.btn-group button {
    margin-right: 10px; 
    padding: 5px 15px; 
    cursor: pointer; 
    border: none; 
    border-radius: 5px;
}
.btn-group button:hover { 
    opacity: 0.8; 
}
#finalResult { 
    margin-top: 15px; 
    font-weight: bold; 
    color: #0b3d91; 
}
.switch {
    position: fixed; 
    top: 15px; 
    right: 15px; 
    cursor: pointer; 
    background: #ccc;
    padding: 5px 10px; 
    border-radius: 5px; 
    z-index:9999;
}
.chart-container { 
    width: 100%; 
    max-width: 700px; 
    margin: 30px auto; 
}
.back-btn {
    background: linear-gradient(135deg, #4caf50, #81c784); 
    color: white; 
    font-weight: bold; 
    padding: 10px 20px;
    border: none; 
    border-radius: 12px; 
    cursor: pointer; 
    box-shadow: 2px 4px 8px rgba(0,0,0,0.2);
    transition: all 0.3s ease; 
    font-size: 16px;
}
.back-btn:hover { 
    background: linear-gradient(135deg, #388e3c, #66bb6a); 
    transform: scale(1.05); 
}
input, select, button { 
    margin-top: 5px; 
    margin-bottom: 10px; 
    padding: 6px 8px; 
}
small.hint { 
    color:#666;
    display:block; 
    margin-top:-6px; 
    margin-bottom:10px; 
}
.section-card{
    background:#fff; 
    border-radius:14px; 
    box-shadow:0 6px 18px rgba(0,0,0,0.06); 
    padding:18px; 
    margin:22px 0;
}
.dark-mode .section-card{ 
    background:#1a1a1a; 
    box-shadow:0 6px 18px rgba(255,255,255,0.05); 
}
.grid-2{ 
    display:grid; 
    grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); 
    gap:16px; 
}
.badge{
    display:inline-block; 
    padding:4px 10px; 
    border-radius:999px; 
    font-size:12px; 
    font-weight:600; 
    background:#e8f5e9; 
    color:#1b5e20;
}
.dark-mode .badge{ 
    background:#173b17; 
    color:#c8e6c9; 
}
.kpi{ 
    display:flex; 
    gap:10px; 
    align-items:center; 
    font-weight:600; 
}
.kpi .dot{ 
    width:10px; 
    height:10px; 
    border-radius:999px; 
    background:#4caf50; 
}
.canvas-wrap{ 
    display:flex; 
    gap:16px; 
    flex-wrap:wrap; 
    align-items:flex-start; 
}
.preview{
    border:1px dashed #bbb; 
    border-radius:12px; 
    padding:8px; 
    background:#fafafa;
}
.dark-mode .preview{ 
    background:#101010; 
    border-color:#444; 
}
.note{ 
    font-size:13px; 
    color:#555; 
}
.dark-mode .note{ 
    color:#bbb; 
}
.calendar{ 
    width:100%; 
    border-collapse:collapse; 
}
.calendar th{ 
    background:#e3f2fd; 
}
.dark-mode .calendar th{ 
    background:#0b2942; 
}
.download-btn{
    background:#2962ff; 
    color:#fff; 
    border:none; 
    border-radius:8px; 
    padding:8px 12px; 
    cursor:pointer; 
    font-weight:700;
}
.download-btn:hover{ 
    opacity:.9; 
}
</style>
</head>
<body>

<div class="switch" onclick="toggleDarkMode()">ржбрж╛рж░рзНржХ / рж▓рж╛ржЗржЯ ржорзЛржб</div>

<header>
    <h1>ЁЯеТ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб</h1>
     <!-- Multi-language Support -->
  <section id="language">
    <h2>ЁЯМН ржнрж╛рж╖рж╛ ржкрж░рж┐ржмрж░рзНрждржи</h2>
    <select id="languageSelect" onchange="changeLanguage()">
      <option value="bn">ржмрж╛ржВрж▓рж╛</option>
      <option value="en">English</option>
    </select>
    <p id="langText">ржмрж░рзНрждржорж╛ржирзЗ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ рж╕ржХрзНрж░рж┐рзЯ ржЖржЫрзЗред</p>
  </section>

</header>

<div class="container">

<!-- ================== рж╢рж╕рж╛ ржкрж░рж┐ржЪрж┐рждрж┐ ================== -->
<section id="cucumber" class="section-card">
    <span class="badge">ржмрзЗрж╕рж┐ржХ ржЧрж╛ржЗржб</span>
    <h2 style="color: orange;">рж╢рж╕рж╛ (Cucumber)</h2>
    <h3>ржХрзЗржи ржЪрж╛рж╖ ржХрж░ржмрзЗржи?</h3>
    <ul>
        <li>рж╕рзНржмрж▓рзНржк рж╕ржорзЯрзЗ ржлрж▓ржи ржжрзЗрзЯред</li>
        <li>ржХржо ржЦрж░ржЪрзЗ ржЕржзрж┐ржХ рж▓рж╛ржнржмрж╛ржи рж╣ржУрзЯрж╛ ржпрж╛рзЯред</li>
        <li>рж╕рж╣ржЬ ржкрж░рж┐ржЪрж░рзНржпрж╛ред</li>
        <li>ржЙржкржХрзВрж▓рзАрзЯ ржПрж▓рж╛ржХрж╛рж░ ржкрж░рж┐ржмрзЗрж╢ ржЙржкржпрзЛржЧрзАред</li>
    </ul>
    <img src="C:\Users\HP\OneDrive\Desktop\.git\my web\images/images (1).jpeg">
    <h3>ЁЯМН ржЙржкржпрзБржХрзНржд ржкрж░рж┐ржмрзЗрж╢</h3>
    <ul>
        <li>ржЬрж▓ржмрж╛рзЯрзБ: ржЙрж╖рзНржг ржУ ржЖрж░рзНржжрзНрж░ ржЬрж▓ржмрж╛рзЯрзБрждрзЗ ржнрж╛рж▓рзЛ ржЬржирзНржорж╛рзЯред</li>
        <li>рждрж╛ржкржорж╛рждрзНрж░рж╛: ржЖржжрж░рзНрж╢ рзирзлтАУрзйрзл┬░Cред</li>
        <li>ржорж╛ржЯрж┐: ржжрзЛржЖржБрж╢ ржмрж╛ ржмрзЗрж▓рзЗ ржжрзЛржЖржБрж╢, pH рзмтАУрзнред</li>
    </ul>
</section>

<!-- ================== ржЬржорж┐ ржУ ржкрж░рж┐ржмрзЗрж╢ ржпрж╛ржЪрж╛ржЗ ================== -->
<section id="cucumber-checklist" class="section-card">
    <span class="badge">ржлрж┐рж▓рзНржб ржЪрзЗржХ</span>
    <h2>ЁЯеТ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЬржорж┐ ржУ ржкрж░рж┐ржмрзЗрж╢ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи</h2>
    <p class="note">ржЖржкржирж╛рж░ ржЬржорж┐ ржХрзЗржоржи? ржирж┐ржЪрзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржкрзНрж░рж╢рзНржирзЗ рж╣рзНржпрж╛ржБ / ржирж╛ ржЪрж╛ржкрзБржи:</p>
    <ul style="list-style: none; padding: 0;" id="questionList">
        <li style="margin-bottom: 10px;">тША <strong>рж╕ржХрж╛рж▓-ржмрж┐ржХрзЗрж▓рзЗ рж░рзЛржж ржкрзЬрзЗ?</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(0, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(0, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
        <li style="margin-bottom: 10px;">ЁЯМб <strong>рж╣рж╛рж▓ржХрж╛ ржЧрж░ржо ржЕржирзБржнржм рж╣рзЯ? (рзирзжтАУрзйрзл┬░C)</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(1, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(1, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
        <li style="margin-bottom: 10px;">ЁЯМз <strong>ржЬржорж┐рждрзЗ ржмрзЗрж╢рж┐ ржкрж╛ржирж┐ ржЬржорзЗ ржирж╛?</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(2, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(2, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
        <li style="margin-bottom: 10px;">ЁЯМ▒ <strong>ржорж╛ржЯрж┐ ржжрзЛржЖржБрж╢ ржмрж╛ ржмрзЗрж▓рзЗ ржж╨╛ржЖржБрж╢?</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(3, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(3, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
        <li style="margin-bottom: 10px;">ЁЯТз <strong>рж╕рзЗржЪрзЗрж░ ржмрзНржпржмрж╕рзНржерж╛ ржЖржЫрзЗ?</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(4, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(4, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
        <li style="margin-bottom: 10px;">тЭЧ <strong>ржорж╛ржЯрж┐рждрзЗ рж╕рж╛ржжрж╛ рж▓ржмржгрзЗрж░ ржорждрзЛ ржжрж╛ржЧ ржкрзЬрзЗ ржирж╛?</strong><br>
            <div class="btn-group">
                <button onclick="setAnswer(5, 1, this)">тЬЕ рж╣рзНржпрж╛ржБ</button>
                <button onclick="setAnswer(5, 0, this)">тЭМ ржирж╛</button>
            </div>
        </li>
    </ul>
    <button onclick="showFinalResult()" style="margin-top: 10px; padding: 10px 20px; font-weight: bold;">ЁЯУК ржлрж▓рж╛ржлрж▓ ржжрзЗржЦрзБржи</button>
    <div id="finalResult"></div>
</section>
<!-- ================== Research & AI Predictions ================== -->
<section id="research" class="section-card">
    <span class="badge">рж░рж┐рж╕рж╛рж░рзНржЪ ржЯрзБрж▓рж╕</span>
    <h2 style="color:#d84315;">ЁЯФм рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржмрзИржЬрзНржЮрж╛ржирж┐ржХ ржорзВрж▓рзНржпрж╛рзЯржи ржУ ржкрзВрж░рзНржмрж╛ржнрж╛рж╕</h2>

    <!-- Soil & Climate -->
    <h3>1я╕ПтГг ржорж╛ржЯрж┐ ржУ ржЬрж▓ржмрж╛рзЯрзБрж░ ржЙржкржпрзЛржЧрж┐рждрж╛</h3>
    <div class="grid-2">
        <div>
            <label>ржорж╛ржЯрж┐ pH: <input type="number" id="soilPH" min="4" max="9" step="0.1" value="6.5"></label>
            <label>ржорж╛ржЯрж┐рж░ EC (dS/m): <input type="number" id="soilEC" min="0" max="10" step="0.1" value="1.2"></label>
            <label>рждрж╛ржкржорж╛рждрзНрж░рж╛ (┬░C): <input type="number" id="temp" min="15" max="40" value="28"></label>
            <label>ржЖрж░рзНржжрзНрж░рждрж╛ (%): <input type="number" id="humidity" min="30" max="100" value="70"></label>
            <button onclick="calculateSuitability()">ЁЯТб ржЙржкржпрзЛржЧрж┐рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рзБржи</button>
            <div id="suitabilityResult" style="margin-top:10px;font-weight:bold;"></div>
        </div>
        <div>
            <h4>2я╕ПтГг ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ржХрзГржд ржлрж▓ржи (ржХрзЗржЬрж┐/ржмрж┐ржШрж╛)</h4>
            <div class="chart-container"><canvas id="yieldChart"></canvas></div>
            <h4>3я╕ПтГг рж░рзЛржЧ ржЭрзБржБржХрж┐ рж╕рж┐ржорзБрж▓рзЗржЯрж░</h4>
            <label>ржЖрж░рзНржжрзНрж░рждрж╛ (%): <input type="range" id="diseaseHumidity" min="30" max="100" value="70" oninput="updateDiseaseRisk()"></label>
            <div id="diseaseRisk" style="margin-top:10px;font-weight:bold;color:#e53935;">ржЭрзБржБржХрж┐: ржорж╛ржЭрж╛рж░рж┐</div>
        </div>
    </div>
</section>


<!-- ================== ржмржкржирзЗрж░ рж╕ржорзЯ ржУ ржПрж▓рж╛ржХрж╛ ================== -->
<section id="cucumber-planting" class="section-card">
    <span class="badge">рж╕ржорзЯрж╕рзВржЪрж┐</span>
    <h3>ЁЯУЕ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ рж╕ржорзЯ ржУ ржЙржкржпрзБржХрзНржд ржПрж▓рж╛ржХрж╛</h3>
    <table>
        <thead>
            <tr><th>ржорзМрж╕рзБржо</th><th>ржмржкржирзЗрж░ рж╕ржорзЯ</th><th>ржлрж╕рж▓ рж╕ржВржЧрзНрж░рж╣</th></tr>
        </thead>
        <tbody>
            <tr><td>ржЦрж░рж┐ржл-рзз</td><td>ржорж╛рж░рзНржЪ тАУ ржПржкрзНрж░рж┐рж▓</td><td>ржорзЗ тАУ ржЬрзБржи</td></tr>
            <tr><td>ржЦрж░рж┐ржл-рзи</td><td>ржЬрзБрж▓рж╛ржЗ тАУ ржЖржЧрж╕рзНржЯ</td><td>рж╕рзЗржкрзНржЯрзЗржорзНржмрж░ тАУ ржЕржХрзНржЯрзЛржмрж░</td></tr>
            <tr><td>рж░ржмрж┐ ржорзМрж╕рзБржо</td><td>ржиржнрзЗржорзНржмрж░ тАУ ржбрж┐рж╕рзЗржорзНржмрж░</td><td>ржЬрж╛ржирзБрзЯрж╛рж░рж┐ тАУ ржлрзЗржмрзНрж░рзБрзЯрж╛рж░рж┐</td></tr>
        </tbody>
    </table>
    <ul>
        <li>рж░ржВржкрзБрж░, ржжрж┐ржирж╛ржЬржкрзБрж░: рж╢рзАрждржХрж╛рж▓рзАржи ржЪрж╛рж╖ ржмрзЗрж╢рж┐</li>
        <li>ржирзЛрзЯрж╛ржЦрж╛рж▓рзА, ржнрзЛрж▓рж╛, ржкржЯрзБрзЯрж╛ржЦрж╛рж▓рзА: рж▓ржмржгрж╕рж╣рж┐рж╖рзНржгрзБ ржЬрж╛ржд</li>
        <li>ржврж╛ржХрж╛, ржорж╛ржирж┐ржХржЧржЮрзНржЬ, ржлрж░рж┐ржжржкрзБрж░: ржорж╛ржЭрж╛рж░рж┐ ржЙрж░рзНржмрж░ ржЬржорж┐</li>
        <li>ржХрзБржорж┐рж▓рзНрж▓рж╛, ржЪрж╛ржБржжржкрзБрж░: рж╕рзЗржЪ рж╕рзБржмрж┐ржзрж╛рж╕ржорзНржкржирзНржи ржЬржорж┐</li>
    </ul>
</section>
 <!-- ржорж╛ржЯрж┐ ржкрзНрж░рж╕рзНрждрзБрждрж┐ -->
  <section id="soil">
    <h2>ЁЯМ▒ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржорж╛ржЯрж┐ ржкрзНрж░рж╕рзНрждрзБрждрж┐</h2>
    <p>
      рж╢рж╕рж╛ ржнрж╛рж▓рзЛ ржлрж▓ржирзЗрж░ ржЬржирзНржп ржЙрж░рзНржмрж░ ржжрзЛ-ржЖржБрж╢ ржмрж╛ ржмрзЗрж▓рзЗ ржжрзЛ-ржЖржБрж╢ ржорж╛ржЯрж┐ ржжрж░ржХрж╛рж░ред  
      рзз) ржЬржорж┐ ржкрзНрж░ржержорзЗ рзи-рзй ржмрж╛рж░ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржЪрж╛рж╖ ржХрж░рждрзЗ рж╣ржмрзЗред <br>
      рзи) ржкрзНрж░рждрж┐ржмрж╛рж░ ржЪрж╛рж╖рзЗрж░ ржкрж░ ржоржЗ ржжрж┐рзЯрзЗ ржорж╛ржЯрж┐ рж╕ржорж╛ржи ржХрж░рждрзЗ рж╣ржмрзЗред <br>
      рзй) ржкрзНрж░рждрж┐ рж╢рждржХрзЗ рзл-рзм ржХрзЗржЬрж┐ ржкржЪрж╛ ржЧрзЛржмрж░ ржмрж╛ ржЬрзИржм рж╕рж╛рж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред <br>
      рзк) рж╢рзЗрж╖ ржЪрж╛рж╖рзЗ ржЗржЙрж░рж┐рзЯрж╛, ржЯрж┐ржПрж╕ржкрж┐ ржУ ржПржоржУржкрж┐ рж╕рж╛рж░ ржорж┐рж╢рж┐рзЯрзЗ ржЬржорж┐ рждрзИрж░рж┐ ржХрж░рждрзЗ рж╣ржмрзЗред <br>
      рзл) ржЬржорж┐ ржЙржБржЪрзБ ржХрж░рзЗ ржирж╛рж▓рж╛ рждрзИрж░рж┐ ржХрж░рж▓рзЗ ржкрж╛ржирж┐ ржЬржорзЗ ржерж╛ржХржмрзЗ ржирж╛ред  
    </p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/_28b0k4VX2k?si=1RsZHTH9KDbanQYs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </section>
<!-- ================== тЬЕ ржирждрзБржи ржлрж┐ржЪрж╛рж░ рзк: ржЕржкрзНржЯрж┐ржорж╛ржЗржЬржб рж╕рзНржкрзЗрж╕рж┐ржВ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ ================== -->
<section id="spacing-optimizer" class="section-card">
    <span class="badge">рж╕рзНржкрзЗрж╕рж┐ржВ ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрж╛рж░</span>
    <h2>ЁЯУР ржЕржкрзНржЯрж┐ржорж╛ржЗржЬржб рж╕рзНржкрзЗрж╕рж┐ржВ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</h2>
    <div class="grid-2">
        <div>
            <label>ржкрзНрж▓ржЯ ржжрзИрж░рзНржШрзНржп (ржорж┐ржЯрж╛рж░): <input type="number" id="plotLen" min="5" step="0.5" value="30"></label>
            <label>ржкрзНрж▓ржЯ ржкрзНрж░рж╕рзНрже (ржорж┐ржЯрж╛рж░): <input type="number" id="plotWid" min="3" step="0.5" value="20"></label>
            <label>ржЪрж╛рж╖ ржкржжрзНржзрждрж┐:
                <select id="spacingMode" onchange="applyPreset()">
                    <option value="ground">ржЧрзНрж░рж╛ржЙржирзНржб (ржкрзНрж░рж╕рзНрждрж╛ржмрж┐ржд рзз.рзлржорж┐ ├Ч рзж.рзмржорж┐)</option>
                    <option value="trellis">ржЯрзНрж░рзЗрж▓рж┐рж╕ (ржкрзНрж░рж╕рзНрждрж╛ржмрж┐ржд рзи.рзжржорж┐ ├Ч рзж.рзлржорж┐)</option>
                    <option value="custom">ржХрж╛рж╕рзНржЯржо</option>
                </select>
            </label>
            <label>рж╕рж╛рж░рж┐ ржжрзВрж░рждрзНржм (ржорж┐ржЯрж╛рж░): <input type="number" id="optRow" min="0.5" step="0.1" value="1.5"></label>
            <label>ржЧрж╛ржЫрзЗрж░ ржжрзВрж░рждрзНржм (ржорж┐ржЯрж╛рж░): <input type="number" id="optPlant" min="0.3" step="0.1" value="0.6"></label>
            <button onclick="optimizeSpacing()">ЁЯзо рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи</button>
            <div id="spacingSummary" style="font-weight:700;"></div>
        </div>
        <div style="min-width:260px;">
            <div id="gridInfo" class="note">рж╕рж╛рж░рж┐ ржПржмржВ ржЧрж╛ржЫрзЗрж░ рж╕ржВржЦрзНржпрж╛ рж╣рж┐рж╕рж╛ржм ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ</div>
        </div>
    </div>
</section>

</div>
<section class="section-card">
  <span class="badge">ржмрзАржЬ</span>
 <h2>ржмрзАржЬ ржмржкржи ржкржжрзНржзрждрж┐</h2>
    <table>
        <thead>
            <tr>
                <th>ржзрж╛ржк</th>
                <th>ржХрзА ржХрж░ржмрзЗржи</th>
                <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>ржмржкржирзЗрж░ рж╕ржорзЯ</td>
                <td>ржлрзЗржмрзНрж░рзБрзЯрж╛рж░рж┐ ржерзЗржХрзЗ ржорж╛рж░рзНржЪ ржорж╛рж╕рзЗ ржмрзАржЬ ржмржкржи ржХрж░рзБржи</td>
                <td>ржЖржмрж╣рж╛ржУрзЯрж╛ ржУ рждрж╛ржкржорж╛рждрзНрж░рж╛рж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд рж╕ржорзЯ</td>
            </tr>
            <tr>
                <td>ржкржжрзНржзрждрж┐</td>
                <td>рж╕рж░рж╛рж╕рж░рж┐ ржмрзАржЬ ржмрзБржирзБржи ржмрж╛ ржирж╛рж░рзНрж╕рж╛рж░рж┐рждрзЗ ржЪрж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗ ржмржкржи ржХрж░рзБржи</td>
                <td>ржЪрж╛рж░рж╛ ржЙржирзНржиржд рж╣ржмрзЗ ржУ ржлрж▓ржи ржмрзЗрж╢рж┐ рж╣ржмрзЗ</td>
            </tr>
            <tr>
                <td>рж▓рж╛ржЗржи ржУ ржЪрж╛рж░рж╛ ржжрзВрж░рждрзНржм</td>
                <td>рж▓рж╛ржЗржи ржерзЗржХрзЗ рж▓рж╛ржЗржи рзмрзж ржЗржЮрзНржЪрж┐, ржЪрж╛рж░рж╛ ржерзЗржХрзЗ ржЪрж╛рж░рж╛ рзмрзж ржЗржЮрзНржЪрж┐</td>
                <td>ржлрж╕рж▓рзЗрж░ ржмрзГржжрзНржзрж┐ ржУ ржкрж░рзНржпрж╛ржкрзНржд ржЖрж▓рзЛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ</td>
            </tr>
        </tbody>
    </table>
    </section>

<!-- ================== рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ================== -->
<section class="section-card">
  <span class="badge">ЁЯТз рж╕рзЗржЪ</span>
  <h2>ЁЯеТ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗ рж╕рзЗржЪ ржжрзЗржУрзЯрж╛рж░ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐</h2>
  <table>
    <thead>
      <tr>
        <th>ржкрж░рзНржпрж╛рзЯ</th>
        <th>ржХржЦржи рж╕рзЗржЪ ржжрж┐ржмрзЗржи</th>
        <th>ржХрзАржнрж╛ржмрзЗ / ржирж┐рж░рзНржжрзЗрж╢ржирж╛</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>ржЕржЩрзНржХрзБрж░рзЛржжржЧржо</td>
        <td>ржмрзАржЬ ржмржкржирзЗрж░ ржкрж░ рзжтАУрзн ржжрж┐ржи</td>
        <td>рж╣рж╛рж▓ржХрж╛ рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ ржпрж╛рждрзЗ ржорж╛ржЯрж┐ рж╕ржмрж╕ржорзЯ ржнрж┐ржЬрж╛ ржерж╛ржХрзЗ ржХрж┐ржирзНрждрзБ ржЬрж▓рж╛ржмржжрзНржз ржирж╛ рж╣рзЯ</td>
      </tr>
      <tr>
        <td>ржЪрж╛рж░рж╛рж░ ржмрзГржжрзНржзрж┐</td>
        <td>рзнтАУрзирзж ржжрж┐ржи</td>
        <td>рзитАУрзй ржжрж┐ржи ржЕржирзНрждрж░ ржЕрж▓рзНржк рж╕рзЗржЪ, ржЪрж╛рж░рж╛ ржирзБржЗрзЯрзЗ ржирж╛ ржкрзЬрзЗ рж╕рзЗржжрж┐ржХрзЗ ржЦрзЗрзЯрж╛рж▓ рж░рж╛ржЦрждрзЗ рж╣ржмрзЗ</td>
      </tr>
      <tr>
        <td>рж▓рждрж╛ ржмрж┐рж╕рзНрждрж╛рж░</td>
        <td>рзирззтАУрзйрзж ржжрж┐ржи</td>
        <td>ржкрзНрж░рждрж┐ рзктАУрзл ржжрж┐ржирзЗ ржорж╛ржЭрж╛рж░рж┐ рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ, ржорж╛ржЯрж┐ рж╢рзБржХрж╛рждрзЗ ржжрзЗржУрзЯрж╛ ржпрж╛ржмрзЗ ржирж╛</td>
      </tr>
      <tr>
        <td>ржлрзБрж▓ ржЖрж╕рж╛</td>
        <td>рзйрзжтАУрзкрзж ржжрж┐ржи</td>
        <td>ржирж┐рзЯржорж┐ржд рж╕рзЗржЪ ржжрж┐рждрзЗ рж╣ржмрзЗ, ржЖрж░рзНржжрзНрж░рждрж╛ ржирж╛ ржерж╛ржХрж▓рзЗ ржлрзБрж▓ ржЭрж░рзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ</td>
      </tr>
      <tr>
        <td>ржлрж▓ ржзрж░рж╛рж░ рж╕ржорзЯ</td>
        <td>рзкрзжтАУрзлрзж ржжрж┐ржи</td>
        <td>ржкрзНрж░рждрж┐ рзйтАУрзк ржжрж┐ржирзЗ ржЧржнрзАрж░ рж╕рзЗржЪ, ржлрж▓ ржЭрж░рзЗ ржкрзЬрж╛ рж░рзЛржз рж╣рзЯ</td>
      </tr>
      <tr>
        <td>ржлрж▓ рж╕ржВржЧрзНрж░рж╣ржХрж╛рж▓</td>
        <td>рзлрзж ржжрж┐ржи ржкрж░ ржерзЗржХрзЗ</td>
        <td>рзктАУрзл ржжрж┐ржирзЗ ржПржХржмрж╛рж░ ржорж╛ржЭрж╛рж░рж┐ рж╕рзЗржЪ, ржлрж▓ рж╕ржВржЧрзНрж░рж╣рзЗрж░ рж╕ржорзЯ ржкрж░рзНржпржирзНржд ржЪрж╛рж▓рж┐рзЯрзЗ ржпрзЗрждрзЗ рж╣ржмрзЗ</td>
      </tr>
      <tr>
        <td>рж╢рзЗрж╖ ржкрж░рзНржпрж╛рзЯ</td>
        <td>ржлрж╕рж▓ рж╢рзЗрж╖ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯ</td>
        <td>рж╢рзБржХрж┐рзЯрзЗ ржпрж╛ржУрзЯрж╛ ржЧрж╛ржЫржХрзЗ ржЯрж┐ржХрж┐рзЯрзЗ рж░рж╛ржЦрждрзЗ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрзА рж╣рж╛рж▓ржХрж╛ рж╕рзЗржЪ</td>
      </tr>
    </tbody>
  </table>

  <h2>ЁЯМ┐ рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржЯрж┐ржкрж╕</h2>
  <table>
    <thead>
      <tr>
        <th>ржЯрж┐ржкрж╕</th>
        <th>ржХрж╛рж░ржг / ржЙржкржХрж╛рж░рж┐рждрж╛</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>ржбрзНрж░рж┐ржк ржЗрж░рж┐ржЧрзЗрж╢ржи ржмрзНржпржмрж╣рж╛рж░</td>
        <td>ржкрж╛ржирж┐ рж╕рж╛рж╢рзНрж░рзЯ рж╣рзЯ ржПржмржВ ржЧрж╛ржЫрзЗрж░ ржЧрзЛрзЬрж╛рзЯ рж╕рж░рж╛рж╕рж░рж┐ ржЖрж░рзНржжрзНрж░рждрж╛ ржкрзМржБржЫрж╛рзЯ</td>
      </tr>
      <tr>
        <td>ржбрзНрж░рзЗржирзЗржЬ ржмрзНржпржмрж╕рзНржерж╛ рж░рж╛ржЦрж╛</td>
        <td>ржЬрж▓рж╛ржмржжрзНржзрждрж╛ рж░рзЛржз ржХрж░рзЗ, рж╢рж┐ржХрзЬ ржкржЪржи ржмржирзНржз рж╣рзЯ</td>
      </tr>
      <tr>
        <td>рж╕ржХрж╛рж▓рзЗ ржмрж╛ ржмрж┐ржХрзЗрж▓рзЗ рж╕рзЗржЪ</td>
        <td>рждрж╛ржкржорж╛рждрзНрж░рж╛ ржХржо ржерж╛ржХрж╛рзЯ ржкрж╛ржирж┐рж░ ржЕржкржЪрзЯ ржХржо рж╣рзЯ ржПржмржВ ржЧрж╛ржЫрзЗрж░ ржЪрж╛ржкржУ ржХржорзЗ</td>
      </tr>
      <tr>
        <td>ржмрзГрж╖рзНржЯрж┐рж░ ржкрж░ рж╕рзЗржЪ ржмржирзНржз рж░рж╛ржЦрж╛</td>
        <td>ржЕрждрж┐рж░рж┐ржХрзНржд ржкрж╛ржирж┐ ржПрзЬрж╛ржирзЛ ржпрж╛рзЯ, ржЧрж╛ржЫ рж╕рзБрж╕рзНрже ржерж╛ржХрзЗ</td>
      </tr>
      <tr>
        <td>ржорж╛ржЯрж┐ ржирж┐рзЯржорж┐ржд ржирж░ржо ржХрж░рж╛</td>
        <td>рж╕рзЗржЪрзЗрж░ ржкрж╛ржирж┐ ржорж╛ржЯрж┐рждрзЗ рж╕ржорж╛ржиржнрж╛ржмрзЗ ржврзБржХрждрзЗ ржкрж╛рж░рзЗ</td>
      </tr>
    </tbody>
  </table>
  <div class="container">

  <h3>ЁЯТз рж╕рзЗржЪ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржжрж┐ржХржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржорзВрж▓ржХ ржнрж┐ржбрж┐ржУ
</h3>
  <ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/yAu2pVysPjg?si=ICsmu8yijEv26qQi" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </ul>
</section>
    <!-- ================== рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ================== -->
<section id="fertilizer" class="section-card">
    <span class="badge">рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</span>
    <h2>ЁЯзк рж╢рж╕рж╛рж░ рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛ ржЪрж╛рж░рзНржЯ</h2>
    <table>
        <thead>
            <tr><th>рж╕ржорзЯ / ржЕржмрж╕рзНржерж╛</th><th>рж╕рж╛рж░рзЗрж░ ржирж╛ржо</th><th>ржкрж░рж┐ржорж╛ржг (ржХрзЗржЬрж┐)</th><th>ржкрзНрж░рзЯрзЛржЧ ржкржжрзНржзрждрж┐</th></tr>
        </thead>
        <tbody>
            <tr><td>ржмржкржирзЗрж░ рж╕ржорзЯ</td><td>ржлрж╕ржлрж░рж╛рж╕ (рж╕рзБржкрж╛рж░ ржлрж╕ржлрзЗржЯ)</td><td>30тАУ40</td><td>рж╢рж┐ржХрзЬрзЗрж░ ржкрж╛рж╢рзЗ ржЫрзЬрж┐рзЯрзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>ржмржкржирзЗрж░ рж╕ржорзЯ</td><td>ржирж╛ржЗржЯрзНрж░рзЛржЬрзЗржи (ржЗржЙрж░рж┐рзЯрж╛)</td><td>10тАУ12</td><td>рж╢рж┐ржХрзЬрзЗрж░ ржкрж╛рж╢рзЗ ржЫрзЬрж┐рзЯрзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>ржмржкржирзЗрж░ рж╕ржорзЯ</td><td>ржкржЯрж╛рж╢ (ржорж┐ржЙрж░рж┐рзЯрзЗржЯ ржЕржл ржкржЯрж╛рж╢)</td><td>10тАУ15</td><td>рж╢рж┐ржХрзЬрзЗрж░ ржкрж╛рж╢рзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>рзитАУрзй рж╕ржкрзНрждрж╛рж╣ ржкрж░</td><td>ржирж╛ржЗржЯрзНрж░рзЛржЬрзЗржи (ржЗржЙрж░рж┐рзЯрж╛)</td><td>10тАУ15</td><td>ржкрж╛ржЯрж┐рж░ ржкрж╛рж╢рзЗ ржЫрзЬрж┐рзЯрзЗ ржорж╛ржЯрж┐ ржврзЗржХрзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>рзитАУрзй рж╕ржкрзНрждрж╛рж╣ ржкрж░</td><td>ржкржЯрж╛рж╢ (ржорж┐ржЙрж░рж┐рзЯрзЗржЯ ржЕржл ржкржЯрж╛рж╢)</td><td>5тАУ10</td><td>рж╢рж┐ржХрзЬрзЗрж░ ржкрж╛рж╢рзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>ржлрзБрж▓ ржУ ржлрж▓ рж╕ржорзЯ</td><td>ржкржЯрж╛рж╢ (ржорж┐ржЙрж░рж┐рзЯрзЗржЯ ржЕржл ржкржЯрж╛рж╢)</td><td>5тАУ7</td><td>рж╢рж┐ржХрзЬрзЗрж░ ржкрж╛рж╢рзЗ рж╣рж╛рж▓ржХрж╛ ржЫрзЬрж┐рзЯрзЗ ржжрж┐ржмрзЗржи</td></tr>
            <tr><td>ржлрзБрж▓ ржУ ржлрж▓ рж╕ржорзЯ</td><td>ржЯрзНрж░рзЗрж╕ ржПрж▓рж┐ржорзЗржирзНржЯ рж╕рзНржкрзНрж░рзЗ (ржпрзЗржоржи: ржЬрж┐ржЩрзНржХ, ржмрзЛрж░ржи)</td><td>ржкрзНрж░рзЯрзЛржЬржиржорждрзЛ</td><td>ржкрж╛рждрж╛рзЯ рж╕рзНржкрзНрж░рзЗ ржХрж░ржмрзЗржи</td></tr>
        </tbody>
    </table>
    <div class="chart-container"><canvas id="fertilizerChart"></canvas></div>
    <h3>ЁЯзк рж╕рж╛рж░ ржмрзНржпржмрж╕рзНржерж╛ржкржирж╛рж░ ржжрж┐ржХржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржорзВрж▓ржХ ржнрж┐ржбрж┐ржУ</h3>
  <ul> <iframe width="560" height="315" src="https://www.youtube.com/embed/hmKPYP5OoKQ?si=6TOw71Ub5NocheNC" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
  </iframe>
</section>
<!-- ================== тЬЕ ржирждрзБржи ржлрж┐ржЪрж╛рж░ рзи: рж╕рж╛рж░ ржкрзНрж░рзЯрзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ================== -->
<section id="fert-calendar" class="section-card">
    <span class="badge">ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</span>
    <h2>ЁЯЧУ рж╕рж╛рж░ ржкрзНрж░рзЯрзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░</h2>
    <div class="grid-2">
        <div>
            <label>ржмржкржирзЗрж░ рждрж╛рж░рж┐ржЦ: <input type="date" id="sowDate"></label>
            <label>ржЪрж╛рж╖ ржкржжрзНржзрждрж┐:
                <select id="cultMethod">
                    <option value="ground">ржорж╛ржЯрж┐рждрзЗ (ржЧрзНрж░рж╛ржЙржирзНржб)</option>
                    <option value="trellis">ржЯрзНрж░рзЗрж▓рж┐рж╕</option>
                </select>
            </label>
            <button onclick="buildFertCalendar()">ЁЯУЕ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи</button>
            <button class="download-btn" onclick="downloadICS()">ЁЯУе .ics ржбрж╛ржЙржирж▓рзЛржб</button>
        </div>
        <div>
            <table class="calendar" id="calendarTable">
                <thead><tr><th>рждрж╛рж░рж┐ржЦ</th><th>ржХрж╛ржЬ</th><th>ржмрж┐ржмрж░ржг</th></tr></thead>
                <tbody></tbody>
            </table>
        </div>
    </div>
</section>

<!-- ================== рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржкрзНрж░рзЛржбрж╛ржХрж╢ржи ржЯрзЗржХржирзЛрж▓ржЬрж┐ ================== -->
<section class="section-card">
    <span class="badge">рж╢рж╕рж╛ ржЪрж╛рж╖</span>
    
     <h2>ржЪрж╛рж░рж╛ ржкрж░рж┐ржЪрж░рзНржпрж╛</h2>
<table>
    <thead>
        <tr>
            <th>ржзрж╛ржк</th>
            <th>ржХрзА ржХрж░ржмрзЗржи</th>
            <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>ржкрж╛ржирж┐</td>
            <td>ржЪрж╛рж░рж╛ ржирж┐рзЯржорж┐ржд ржкрж╛ржирж┐ ржжрж┐ржи, ржорж╛ржЯрж┐ржХрзЗ ржЖржжрзНрж░ рж░рж╛ржЦрзБржи ржХрж┐ржирзНрждрзБ ржЬрж▓рж╛ржмржжрзНржз ржХрж░ржмрзЗржи ржирж╛</td>
            <td>ржЙржжрзНржнрж┐ржжрзЗрж░ ржорзВрж▓ рж╕рзНржмрж╛рж╕рзНржерзНржп ржнрж╛рж▓рзЛ ржерж╛ржХржмрзЗ ржУ ржмрзГржжрзНржзрж┐рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░ржмрзЗ</td>
        </tr>
        <tr>
            <td>ржЖрж▓рзЛ ржУ рждрж╛ржкржорж╛рждрзНрж░рж╛</td>
            <td>ржЪрж╛рж░рж╛ ржкрж░рзНржпрж╛ржкрзНржд рж╕рзВрж░рзНржпрж╛рж▓рзЛржХ ржкрж╛рзЯ ржПржоржи рж╕рзНржерж╛ржирзЗ рж░рж╛ржЦрзБржи, рждрж╛ржкржорж╛рждрзНрж░рж╛ ржЦрзБржм ржмрзЗрж╢рж┐ ржмрж╛ ржХржо рж╣рж▓рзЗ ржХржнрж╛рж░рж┐ржВ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи</td>
            <td>ржлржЯрзЛрж╕рж┐ржирзНржерзЗрж╕рж┐рж╕ ржарж┐ржХ ржерж╛ржХржмрзЗ ржПржмржВ ржЪрж╛рж░рж╛ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА рж╣ржмрзЗ</td>
        </tr>
        <tr>
            <td>ржкрзЛржХрж╛рж░/ржкрзЛржХрж╛ржорж╛ржХрзЬ ржирж┐рзЯржирзНрждрзНрж░ржг</td>
            <td>рж╕рзБржкрж╛рж░ржлрж┐рж╢рж┐рзЯрж╛рж▓ ржЪрж╛рж╖, ржЭрж╛ржБржЭрж╛рж▓рзЛ ржкрж╛рждрж╛ ржмрж╛ ржкрзЛржХрж╛ ржжрзЗржЦрж╛ ржжрж┐рж▓рзЗ рж╣рж╛рждрзЗ рждрзБрж▓рзЗ ржирж┐ржи ржмрж╛ ржЬрзИржм ржХрзАржЯржирж╛рж╢ржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи</td>
            <td>ржЪрж╛рж░рж╛ ржХрзНрж╖рждрж┐ржЧрзНрж░рж╕рзНржд рж╣ржмрзЗ ржирж╛</td>
        </tr>
        <tr>
            <td>ржЪрж╛рж░рж╛ ржкрж╛рждрж╛рж░ ржЭрж╛ржБржЭрж╛рж▓рзЛ ржЕржВрж╢</td>
            <td>ржорзГржд ржмрж╛ ржЫрж┐ржБрзЬрзЗ ржпрж╛ржУрзЯрж╛ ржкрж╛рждрж╛ ржЕржкрж╕рж╛рж░ржг ржХрж░рзБржи</td>
            <td>ржЪрж╛рж░рж╛ рж╕рзБрж╕рзНрже ржерж╛ржХржмрзЗ ржПржмржВ рж░рзЛржЧ рж╕ржВржХрзНрж░ржоржг ржХржо рж╣ржмрзЗ</td>
        </tr>
        <tr>
            <td>ржмрж╛рзЯрзБ ржЪрж▓рж╛ржЪрж▓</td>
            <td>ржЪрж╛рж░рж╛ рж░рж╛ржЦрж╛рж░ рж╕рзНржерж╛ржиржЯрж┐ рж╣рж╛рж▓ржХрж╛ ржмрж╛рждрж╛рж╕ржпрзБржХрзНржд рж░рж╛ржЦрзБржи, ржмрзЗрж╢рж┐ ржШржи ржерж╛ржХрж▓рзЗ ржкрж╛рждрж╛рж░ ржнрзЗрждрж░рзЗрж░ ржЕржВрж╢ ржЫрзЗржБрзЬрзЗ ржжрж┐ржи</td>
            <td>ржнрж╛рж▓рзЛ ржмрж╛рзЯрзБ ржЪрж▓рж╛ржЪрж▓рзЗ ржЫрждрзНрж░рж╛ржХ ржУ рж░рзЛржЧрзЗрж░ ржкрзНрж░ржмржгрждрж╛ ржХржорзЗ</td>
        </tr>
    </tbody>
</table>

    <h2>ржЖржЧрж╛ржЫрж╛ ржирж┐рзЯржирзНрждрзНрж░ржг</h2>
    <table>
        <thead>
            <tr>
                <th>ржкржжрзНржзрждрж┐</th>
                <th>ржХрзА ржХрж░ржмрзЗржи</th>
                <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>рж╣рж╛ржд ржжрзНржмрж╛рж░рж╛ ржЖржЧрж╛ржЫрж╛</td>
                <td>ржирж┐рзЯржорж┐ржд ржЖржЧрж╛ржЫрж╛ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржХрж░рзБржи</td>
                <td>ржлрж╕рж▓рзЗрж░ ржЬржирзНржп ржкрзБрж╖рзНржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд рж╣ржмрзЗ</td>
            </tr>
            <tr>
                <td>ржпрж╛ржирзНрждрзНрж░рж┐ржХ ржкржжрзНржзрждрж┐</td>
                <td>ржпрж╛ржирзНрждрзНрж░рж┐ржХ ржЖржЧрж╛ржЫрж╛ ржжржоржи ржпржирзНрждрзНрж░ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи</td>
                <td>рж╢рж╕рж╛рж░ ржмрзГржжрзНржзрж┐ ржнрж╛рж▓рзЛ рж╣ржмрзЗ</td>
            </tr>
            <tr>
                <td>ржорж╛рж▓ржЪрж┐ржВ</td>
                <td>ржорж╛ржЯрж┐рждрзЗ ржЖрж░рзНржжрзНрж░рждрж╛ ржмржЬрж╛рзЯ рж░рж╛ржЦрждрзЗ ржорж╛рж▓ржЪ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи</td>
                <td>ржЖржЧрж╛ржЫрж╛ ржжржоржи ржПржмржВ ржорж╛ржЯрж┐рж░ ржЖрж░рзНржжрзНрж░рждрж╛ ржмржЬрж╛рзЯ рж░рж╛ржЦрзЗ</td>
            </tr>
        </tbody>
    </table>
</section>

<!-- ================== рж░рзЛржЧ ржУ ржкрзНрж░рждрж┐ржХрж╛рж░ ================== -->
<section id="diseases" class="section-card">
    <span class="badge">рж░рзЛржЧржмрзНржпржмрж╕рзНржерж╛ржкржирж╛</span>
    <h2>ЁЯРЫ рж╢рж╕рж╛рж░ ржкрзНрж░ржзрж╛ржи рж░рзЛржЧ</h2>
    <table>
        <thead><tr><th>рж░рзЛржЧ</th><th>ржХрж╛рж░ржг</th><th>ржкрзНрж░рждрж┐ржХрж╛рж░</th></tr></thead>
        <tbody>
            <tr><td>ржбрж╛ржЙржирж┐ ржорж┐рж▓ржбрж┐ржЙ</td><td>ржЙржЪрзНржЪ ржЖрж░рзНржжрзНрж░рждрж╛ ржУ ржХржо ржЖрж▓рзЛ</td><td>ржЫрждрзНрж░рж╛ржХржирж╛рж╢ржХ рж╕рзНржкрзНрж░рзЗ, ржЖржХрзНрж░рж╛ржирзНржд ржЕржВрж╢ ржХрзЗржЯрзЗ ржлрзЗрж▓рж╛</td></tr>
            <tr><td>ржкрж╛ржЙржбрж╛рж░рж┐ ржорж┐рж▓ржбрж┐ржЙ</td><td>рж╢рзБржХржирзЛ ржЖржмрж╣рж╛ржУрзЯрж╛ ржУ рж╣рж╛рж▓ржХрж╛ ржмрж╛рждрж╛рж╕</td><td>ржЖрж▓рзЛрж░ ржмрзНржпржмрж╕рзНржерж╛, ржЙржкржпрзБржХрзНржд ржЫрждрзНрж░рж╛ржХржирж╛рж╢ржХ рж╕рзНржкрзНрж░рзЗ</td></tr>
            <tr><td>ржорзГржжрзБржЧрж▓ржи</td><td>ржЬрж▓ ржЬржорж╛, рж╕ржВржХрзНрж░ржорж┐ржд ржмрзАржЬ</td><td>ржмрзАржЬ рж╢рзЛржзржи, ржЬржорж┐ рж╢рзБржХржирзЛ рж░рж╛ржЦрж╛</td></tr>
            <tr><td>рж▓рж╛рж▓ ржорж╛ржХрзЬрж╕рж╛</td><td>рж╢рзБржХржирзЛ, ржЙрж╖рзНржг ржЖржмрж╣рж╛ржУрзЯрж╛</td><td>ржЬрзИржм/ржирж┐рж░рзНржмрж╛ржЪрж┐ржд ржХрзАржЯржирж╛рж╢ржХ</td></tr>
            <tr><td>ржЫрж╛рж░ржкрзЛржХрж╛</td><td>ржкрж░рж┐ржЪрзНржЫржирзНржирждрж╛ ржХржо</td><td>ржпржерж╛ржпрже ржХрзАржЯржирж╛рж╢ржХ ржУ ржкрж░рж┐ржЪрзНржЫржирзНржирждрж╛</td></tr>
        </tbody>
    </table>
    <div class="chart-container"><canvas id="diseaseChart"></canvas></div>
</section>

<!-- ================== ржлрж▓ржи ржУ ржмрзНржпржмрж╣рж╛рж░ ================== -->
<section class="section-card">
    <span class="badge">рж╣рж╛рж░рзНржнрзЗрж╕рзНржЯ</span>
    <h2>ЁЯеТ рж╢рж╕рж╛рж░ ржлрж▓ржи рж╕ржВржЧрзНрж░рж╣рзЗрж░ рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐</h2>
  <table>
    <thead>
      <tr>
        <th>ржзрж╛ржк</th>
        <th>ржХрзА ржХрж░ржмрзЗржи</th>
        <th>ржХрж╛рж░ржг / рж▓ржХрзНрж╖рзНржп</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>ржлрж▓ржи рж╢рзБрж░рзБ</td>
        <td>рзкрзл-рзлрзл ржжрж┐ржи ржкрж░ ржлрж▓ рж╕ржВржЧрзНрж░рж╣ рж╢рзБрж░рзБ</td>
        <td>ржлрж▓ ржкрж░рж┐ржкржХрзНржХ ржУ ржЦрж╛ржУрзЯрж╛рж░ ржЙржкржпрзЛржЧрзА рж╣рзЯ</td>
      </tr>
      <tr>
        <td>рж╕ржВржЧрзНрж░рж╣рзЗрж░ рж╕ржорзЯ</td>
        <td>ржкрзНрж░рждрж┐ржжрж┐ржи ржмрж╛ ржПржХржжрж┐ржи ржкрж░ржкрж░</td>
        <td>ржмрзЗрж╢рж┐ ржкрзЗржХрзЗ ржЧрзЗрж▓рзЗ ржорж╛ржи ржХржорзЗ ржпрж╛рзЯ</td>
      </tr>
      <tr>
        <td>ржХрж┐ржнрж╛ржмрзЗ</td>
        <td>рж╣рж╛ржд ржжрж┐рзЯрзЗ ржмрж╛ ржзрж╛рж░рж╛рж▓рзЛ ржЫрзБрж░рж┐ ржжрж┐рзЯрзЗ рж╕рж╛ржмржзрж╛ржирзЗ</td>
        <td>ржЧрж╛ржЫрзЗрж░ рж▓рждрж╛ ржЫрж┐ржБрзЬрзЗ ржирж╛ ржпрж╛рзЯ</td>
      </tr>
      <tr>
        <td>ржЙржкржпрзБржХрзНржд рж╕ржорзЯ</td>
        <td>ржнрзЛрж░рзЗ ржмрж╛ ржмрж┐ржХрзЗрж▓рзЗ</td>
        <td>рждрж╛ржк ржХржо ржерж╛ржХрж▓рзЗ ржЧрж╛ржЫрзЗрж░ ржЪрж╛ржк ржХржо ржкрзЬрзЗ</td>
      </tr>
      <tr>
        <td>ржкржЪрж╛ ржлрж▓</td>
        <td>ржкржЪрж╛ ржмрж╛ ржмрж┐ржХрзГржд ржлрж▓ рж╕рж░рж┐рзЯрзЗ ржлрзЗрж▓рзБржи</td>
        <td>ржЧрж╛ржЫ рж╕рзБрж╕рзНрже ржерж╛ржХржмрзЗ ржУ ржирждрзБржи ржлрж▓ ржнрж╛рж▓рзЛ рж╣ржмрзЗ</td>
      </tr>
    </tbody>
  </table>
    <h2>ЁЯМ┐ рж╢рж╕рж╛рж░ ржЕржирзНржпрж╛ржирзНржп ржЕржВрж╢рзЗрж░ ржмрзНржпржмрж╣рж╛рж░</h2>
  <table>
    <thead>
      <tr>
        <th>ржЕржВрж╢рзЗрж░ ржирж╛ржо</th>
        <th>ржмрзНржпржмрж╣рж╛рж░ / ржЙржкржХрж╛рж░рж┐рждрж╛</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>рж▓рждрж╛ ржУ ржкрж╛рждрж╛</td>
        <td>
          тАв ржкржЪрж┐рзЯрзЗ ржЬрзИржм рж╕рж╛рж░ рждрзИрж░рж┐<br>
          тАв ржкрж╢рзБржЦрж╛ржжрзНржп рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░
        </td>
      </tr>
      <tr>
        <td>рж╢рж╕рж╛рж░ ржмрзАржЬ</td>
        <td>
          тАв рж╢рзБржХрж┐рзЯрзЗ рждрзЗрж▓ ржЙрзОржкрж╛ржжржи<br>
          тАв ржХрж╕ржорзЗржЯрж┐ржХрж╕ ржУ ржФрж╖ржзрзЗ ржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп рждрзЗрж▓
        </td>
      </tr>
      <tr>
        <td>рж╢рж╕рж╛рж░ ржЦрзЛрж╕рж╛</td>
        <td>
          тАв ржлрзЗрж╕ржкрзНржпрж╛ржХ ржУ рж╕рзНржХрж┐ржи ржХрзБрж▓рж┐ржВ ржХрж╛ржЬрзЗ<br>
          тАв рж╢рзБржХрж┐рзЯрзЗ ржЬрзИржм рж╕рж╛рж░ рж╣рж┐рж╕рзЗржмрзЗржУ ржмрзНржпржмрж╣рж╛рж░
        </td>
      </tr>
      <tr>
        <td>ржмрж┐ржХрзГржд / ржкржЪрж╛ рж╢рж╕рж╛</td>
        <td>
          тАв ржкрж╢рзБржЦрж╛ржжрзНржп рж╣рж┐рж╕рзЗржмрзЗ ржмрзНржпржмрж╣рж╛рж░<br>
          тАв ржХржорзНржкрзЛрж╕рзНржЯ рж╕рж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржХрж╛ржЬрзЗ рж▓рж╛ржЧрзЗ
        </td>
      </tr>
      <tr>
        <td>ржкрзБрж░рзЛ ржЧрж╛ржЫ (ржлрж╕рж▓ рж╢рзЗрж╖рзЗ)</td>
        <td>
          тАв ржХрзЗржЯрзЗ ржорж╛ржЯрж┐рждрзЗ ржорж┐рж╢рж┐рзЯрзЗ ржЬрзИржм ржкржжрж╛рж░рзНрже рждрзИрж░рж┐<br>
          тАв ржЬржорж┐рж░ ржЙрж░рзНржмрж░рждрж╛ ржмрж╛рзЬрж╛рзЯ
        </td>
      </tr>
    </tbody>
  </table>
</section>


<!-- ================== тЬЕ ржирждрзБржи ржлрж┐ржЪрж╛рж░ рзз: ржбрж┐ржЬрж┐ржЬ ржЗржорзЗржЬ ржбрж┐ржЯрзЗржХрж╢ржи ================== -->
<section id="disease-image-ai" class="section-card">
    <span class="badge">ржЗржорзЗржЬ ржПржЖржЗ</span>
    <h2>ЁЯЦ╝ ржбрж┐ржЬрж┐ржЬ ржЗржорзЗржЬ ржбрж┐ржЯрзЗржХрж╢ржи рж╕рж┐рж╕рзНржЯрзЗржо (ржЕржи-ржбрж┐ржнрж╛ржЗрж╕ рж╣рж┐ржЙрж░рж┐рж╕рзНржЯрж┐ржХ)</h2>
    <p class="note">ржкрж╛рждрж╛рж░ ржЫржмрж┐ ржЖржкрж▓рзЛржб ржХрж░рзБржиред рж╕рж┐рж╕рзНржЯрзЗржо рж░ржЩ ржУ ржЯрзЗржХрзНрж╕ржЪрж╛рж░ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рзЗ рж╕ржорзНржнрж╛ржмрзНржп рж░рзЛржЧ ржЕржирзБржорж╛ржи ржХрж░ржмрзЗ (ржбрзЗржЯрж╛ ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ ржирж╛)ред</p>
    <input type="file" id="leafImage" accept="image/*">
    <div class="canvas-wrap">
        <div class="preview">
            <canvas id="leafCanvas" width="280" height="280"></canvas>
        </div>
        <div>
            <div class="kpi"><span class="dot"></span> <span id="imgSummary">ржХрзЛржирзЛ ржЫржмрж┐ рж▓рзЛржб рж╣рзЯржирж┐</span></div>
            <ul id="imgFindings"></ul>
            <div id="imgDiagnosis" style="font-weight:700; margin-top:8px;"></div>
        </div>
    </div>
    <small class="hint">ржЯрж┐ржкрж╕: ржкрж░рж┐рж╖рзНржХрж╛рж░, ржлрзЛржХрж╛рж╕ ржХрж░рж╛ ржкрж╛рждрж╛рж░ ржЫржмрж┐ ржжрж┐ржи; рж░рзЛржЧрзЗрж░ ржжрж╛ржЧ рж╕рзНржкрж╖рзНржЯ ржерж╛ржХрж▓рзЗ ржлрж▓рж╛ржлрж▓ ржмрзЗрж╢рж┐ ржирж┐рж░рзНржнрзБрж▓ рж╣ржмрзЗред</small>
</section>


<!-- ================== тЬЕ ржирждрзБржи ржлрж┐ржЪрж╛рж░ рзй: рж╢рж╕рж╛рж░ ржлрж▓ржи ржЕржирзБржорж╛ржиржХрж╛рж░рзА ================== -->
<section id="yield-estimator" class="section-card">
    <span class="badge">ржлрж▓ржи ржкрзНрж░рзЗржбрж┐ржХрж╢ржи</span>
    <h2>ЁЯУИ рж╢рж╕рж╛рж░ ржлрж▓ржи ржЕржирзБржорж╛ржи</h2>
    <div class="grid-2">
        <div>
            <label>ржПрж▓рж╛ржХрж╛ (ржмрж┐ржШрж╛): <input type="number" id="areaBigha" min="0" step="0.01" value="1"></label>
            <label>рж╕рж╛рж░рж┐ ржжрзВрж░рждрзНржм (ржорж┐ржЯрж╛рж░): <input type="number" id="rowSpacing" min="0.3" step="0.1" value="1.5"></label>
            <label>ржЧрж╛ржЫрзЗрж░ ржжрзВрж░рждрзНржм (ржорж┐ржЯрж╛рж░): <input type="number" id="plantSpacing" min="0.2" step="0.1" value="0.6"></label>
            <label>ржкрзНрж░рждрж┐ ржЧрж╛ржЫрзЗ ржлрж▓ (ржЧрзЬ): <input type="number" id="fruitsPerPlant" min="5" step="1" value="20"></label>
            <label>ржкрзНрж░рждрж┐ ржлрж▓рзЗрж░ ржУржЬржи (ржЧрзНрж░рж╛ржо): <input type="number" id="fruitWeight" min="80" step="10" value="180"></label>
            <label>ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржлрзНржпрж╛ржХрзНржЯрж░ (рзж.рзнтАУрзз.2): <input type="number" id="mgmtFactor" min="0.7" max="1.2" step="0.05" value="1.0"></label>
            <button onclick="estimateYield()">ЁЯзо ржлрж▓ржи рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи</button>
            <div id="yieldSummary" style="font-weight:700;"></div>
        </div>
        <div>
            <div class="chart-container"><canvas id="yieldBreakdownChart"></canvas></div>
        </div>
    </div>
    <small class="hint">ржирзЛржЯ: рзз ржмрж┐ржШрж╛ тЙИ рззрзйрзйрзн.рзорзжрзй ржмрж░рзНржЧржорж┐ржЯрж╛рж░ ржзрж░рж╛ рж╣рзЯрзЗржЫрзЗред</small>
</section>

  <!-- ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ -->
  <div class="section" id="calculator-section">
    <h2 id="calculator-title">ржЗржирзНржЯрж╛рж░рзЗржХрзНржЯрж┐ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ (рж▓рж╛ржн/ржХрзНрж╖рждрж┐)</h2>
    <label id="area-label" for="area">ржХрзНрж╖рзЗрждрзЗрж░ ржЖржХрж╛рж░ (рж╢рждржХ)</label>
    <input type="number" id="area" placeholder="ржХрзНрж╖рзЗрждрзЗрж░ ржЖржХрж╛рж░ рж▓рж┐ржЦрзБржи">
    
    <label id="cost-label" for="cost">ржорзЛржЯ ржЦрж░ржЪ (ржЯрж╛ржХрж╛)</label>
    <input type="number" id="cost" placeholder="ржорзЛржЯ ржЦрж░ржЪ рж▓рж┐ржЦрзБржи">
    
    <label id="yield-label" for="yield">ржлрж╕рж▓рзЗрж░ рж╕ржорзНржнрж╛ржмрзНржп ржЙрзОржкрж╛ржжржи (ржХрзЗржЬрж┐)</label>
    <input type="number" id="yield" placeholder="ржлрж╕рж▓рзЗрж░ рж╕ржорзНржнрж╛ржмрзНржп ржЙрзОржкрж╛ржжржи">
    
    <label id="price-label" for="price">ржмрж╛ржЬрж╛рж░рзЗ ржкрзНрж░рждрж┐ ржХрзЗржЬрж┐рж░ ржжрж╛ржо (ржЯрж╛ржХрж╛)</label>
    <input type="number" id="price" placeholder="ржмрж╛ржЬрж╛рж░рзЗрж░ ржжрж╛ржо">
    
    <button onclick="calculateProfit()" id="calc-btn">рж▓рж╛ржн/ржХрзНрж╖рждрж┐ рж╣рж┐рж╕рж╛ржм ржХрж░рзБржи</button>
    <p id="profit-msg"></p>
  </div>

  <!-- ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐ -->
  <div class="section" id="community-section">
    <h2 id="community-title">ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐</h2>
    <label id="comment-label" for="comment">ржЖржкржирж╛рж░ ржоржирзНрждржмрзНржп рж▓рж┐ржЦрзБржи:</label>
    <textarea id="comment" rows="3" placeholder="ржПржЦрж╛ржирзЗ рж▓рж┐ржЦрзБржи..."></textarea>
    <button onclick="postComment()" id="comment-btn">ржоржирзНрждржмрзНржп ржкрзЛрж╕рзНржЯ ржХрж░рзБржи</button>
    <div class="comment-box" id="comment-box"></div>
  </div>
  
  <!-- ржорзВрж▓ ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи ржмрж╛ржЯржи -->
  <div style="text-align: center; margin-top: 30px;">
    <button class="back-btn" onclick="window.location.href='index.html'">ЁЯПа ржорзВрж▓ ржУрзЯрзЗржмрж╕рж╛ржЗржЯрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
  </div>

</div>
<!-- рж▓рж╛ржн ржХрзНрж╖рждрж┐ рж╣рж┐рж╕рж╛ржм ржлрж┐рж░рзЗ ржпрж╛ржи ржмрж╛ржЯржи -->
  <div style="text-align: center; margin-top: 30px;">
    <button class="back-btn" onclick="window.location.href='calculator.html'">ржХрзГрж╖рж┐ ржЦрж░ржЪ ржУ рж▓рж╛ржн ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░</button>
  </div>

</div>
<script>
// ================== Dark Mode ==================
function toggleDarkMode(){ 
    document.body.classList.toggle('dark-mode'); 
}

// ================== Checklist ==================
let answers=[null,null,null,null,null,null];
function setAnswer(index,value,btn){
    answers[index]=value;
    let btnGroup=btn.parentElement.children;
    for(let b of btnGroup){ 
        b.style.backgroundColor=""; 
        b.style.color=""; 
    }
    btn.style.backgroundColor=value ? '#4caf50' : '#f44336';
    btn.style.color="#fff";
}
function showFinalResult(){
    if(answers.includes(null)){ 
        alert("ржжрзЯрж╛ ржХрж░рзЗ рж╕ржм ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрж┐ржи!"); 
        return;
    }
    let sum=answers.reduce((a,b)=>a+b,0);
    let resultText = sum===6 ? "тЬЕ ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржкрзБрж░рзЛржкрзБрж░рж┐ ржЙржкржпрзБржХрзНрждред" :
                     sum>=4 ? "тЪа ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЖржВрж╢рж┐ржХ ржЙржкржпрзБржХрзНрждред ржХрж┐ржЫрзБ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐рждрзЗ рж╣ржмрзЗред" :
                              "тЭМ ржЖржкржирж╛рж░ ржЬржорж┐ ржПржмржВ ржкрж░рж┐ржмрзЗрж╢ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржирзЯред";
    document.getElementById("finalResult").innerHTML=resultText;
}

// ================== Charts: Fertilizer & Disease ==================
new Chart(document.getElementById('fertilizerChart'),{
    type:'bar',
    data:{
        labels:['ржмржкржирзЗрж░ рж╕ржорзЯ (TSP)','ржмржкржирзЗрж░ рж╕ржорзЯ (Urea)','ржмржкржирзЗрж░ рж╕ржорзЯ (MOP)','рзитАУрзй рж╕ржкрзНрждрж╛рж╣ ржкрж░ (Urea)','рзитАУрзй рж╕ржкрзНрждрж╛рж╣ ржкрж░ (MOP)','ржлрзБрж▓ ржУ ржлрж▓ рж╕ржорзЯ (MOP)','ржлрзБрж▓ ржУ ржлрж▓ рж╕ржорзЯ (Trace)'],
        datasets:[{ 
            label:'рж╕рж╛рж░рзЗрж░ ржкрж░рж┐ржорж╛ржг (ржХрзЗржЬрж┐/ржмрж┐ржШрж╛)', 
            data:[35,11,12.5,12.5,7.5,6,0],
            backgroundColor:['#f44336','#ff9800','#ffc107','#8bc34a','#4caf50','#03a9f4','#9c27b0']
        }]
    },
    options:{ 
        responsive:true, 
        plugins:{
            title:{
                display:true,
                text:'рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ рж╕рж╛рж░ ржкрзНрж░рзЯрзЛржЧ (ржЧрзЛржмрж░ ржмрж╛ржж)'
            }
        }, 
        scales:{
            y:{
                beginAtZero:true
            }
        } 
    }
});
new Chart(document.getElementById('diseaseChart'),{
    type:'bar',
    data:{ 
        labels:['ржбрж╛ржЙржирж┐ ржорж┐рж▓ржбрж┐ржЙ','ржкрж╛ржЙржбрж╛рж░рж┐ ржорж┐рж▓ржбрж┐ржЙ','ржорзГржжрзБржЧрж▓ржи','рж▓рж╛рж▓ ржорж╛ржХрзЬрж╕рж╛','ржЫрж╛рж░ржкрзЛржХрж╛'],
        datasets:[{
            label:'ржШржЯржирж╛рж░ ржорж╛рждрзНрж░рж╛ (рзз-рзл)', 
            data:[5,3,2,3,2],
            backgroundColor:['#e53935','#fb8c00','#43a047','#1e88e5','#8e24aa']
        }]
    },
    options:{ 
        responsive:true, 
        scales:{
            y:{
                beginAtZero:true, 
                max:5
            }
        } 
    }
});

// ================== Research: Suitability & Yield mini-chart ==================
let yieldChart=new Chart(document.getElementById('yieldChart'),{
    type:'bar',
    data:{ 
        labels:['ржЦрж░рж┐ржл-рзз','ржЦрж░рж┐ржл-реи','рж░ржмрж┐'],
        datasets:[{
            label:'ржкрзВрж░рзНржмрж╛ржнрж╛рж╕ржХрзГржд ржлрж▓ржи (ржХрзЗржЬрж┐/ржмрж┐ржШрж╛)', 
            data:[0,0,0], 
            backgroundColor:['#66bb6a','#ffa726','#29b6f6']
        }]
    },
    options:{ 
        responsive:true, 
        plugins:{
            title:{
                display:true,
                text:'рж╢рж╕рж╛рж░ рж╕ржорзНржнрж╛ржмрзНржп ржлрж▓ржи (ржкрзВрж░рзНржмрж╛ржнрж╛рж╕)'
            }
        },
        scales:{
            y:{
                beginAtZero:true,
                title:{
                    display:true,
                    text:'ржХрзЗржЬрж┐/ржмрж┐ржШрж╛'
                }
            }
        }
    }
});
function calculateSuitability(){
    let ph=parseFloat(document.getElementById("soilPH").value);
    let ec=parseFloat(document.getElementById("soilEC").value);
    let temp=parseFloat(document.getElementById("temp").value);
    let hum=parseFloat(document.getElementById("humidity").value);
    let score=0;
    if(ph>=6&&ph<=7) score++;
    if(ec>=0&&ec<=2) score++;
    if(temp>=25&&temp<=35) score++;
    if(hum>=60&&hum<=80) score++;
    let resultText= score===4 ? "тЬЕ ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛рзЯрзБ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЦрзБржмржЗ ржЙржкржпрзБржХрзНрждред" :
                    score>=2 ? "тЪа ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛рзЯрзБ ржЖржВрж╢рж┐ржХ ржЙржкржпрзБржХрзНрждред ржХрж┐ржЫрзБ ржмрзНржпржмрж╕рзНржерж╛ ржирж┐рждрзЗ рж╣ржмрзЗред" :
                               "тЭМ ржЖржкржирж╛рж░ ржЬржорж┐ ржУ ржЬрж▓ржмрж╛рзЯрзБ рж╢рж╕рж╛ ржЪрж╛рж╖рзЗрж░ ржЬржирзНржп ржЙржкржпрзБржХрзНржд ржирзЯред";
    document.getElementById("suitabilityResult").innerHTML=resultText;
    let predictedYield = score===4 ? [500,520,510] : score>=2 ? [300,350,320] : [100,120,110];
    yieldChart.data.datasets[0].data=predictedYield; 
    yieldChart.update();
}
function updateDiseaseRisk(){
    let hum=+document.getElementById("diseaseHumidity").value;
    let riskText= hum<50?"ржирж┐ржорзНржи":(hum<=80?"ржорж╛ржЭрж╛рж░рж┐":"ржЙржЪрзНржЪ");
    document.getElementById("diseaseRisk").innerHTML="ржЭрзБржБржХрж┐: "+riskText;
}

// ================== тЬЕ ржлрж┐ржЪрж╛рж░ рзз: ржбрж┐ржЬрж┐ржЬ ржЗржорзЗржЬ ржбрж┐ржЯрзЗржХрж╢ржи (рж╣рж┐ржЙрж░рж┐рж╕рзНржЯрж┐ржХ) ==================
const leafImage=document.getElementById('leafImage');
const leafCanvas=document.getElementById('leafCanvas');
const ctx=leafCanvas.getContext('2d');
leafImage.addEventListener('change',handleImage,false);

function handleImage(e){
    const file=e.target.files[0];
    if(!file) return;
    const img=new Image();
    img.onload=function(){
        // Fit image into canvas
        const max=280;
        let w=img.width, h=img.height;
        const r=Math.min(max/w, max/h);
        w=Math.round(w*r); h=Math.round(h*r);
        leafCanvas.width=w; leafCanvas.height=h;
        ctx.clearRect(0,0,w,h);
        ctx.drawImage(img,0,0,w,h);
        analyzeLeaf();
    };
    img.src=URL.createObjectURL(file);
}

function analyzeLeaf(){
    const {width:w,height:h}=leafCanvas;
    const data=ctx.getImageData(0,0,w,h).data;
    let n=w*h;
    let white=0, yellow=0, dark=0, green=0;
    let varSum=0, lumPrev=null, lumVar=0;
    for(let i=0;i<data.length;i+=4){
        const r=data[i], g=data[i+1], b=data[i+2];
        const lum=0.299*r+0.587*g+0.114*b;
        if(lumPrev!==null){ 
            let d=Math.abs(lum-lumPrev); 
            varSum+=d; 
        }
        lumPrev=lum;

        // basic thresholds
        if(r>220&&g>220&&b>220) white++;
        if(g>120 && r>90 && b<90) yellow++;              // yellowish (downy lesions)
        if(r<60&&g<60&&b<60) dark++;                      // necrotic/black spot
        if(g>r && g>b) green++;                           // green pixels
    }
    lumVar=varSum/(n||1);

    const whiteRatio=white/n, yellowRatio=yellow/n, darkRatio=dark/n, greenRatio=green/n;

    // Findings
    const findings=[];
    findings.push(`рж╕ржмрзБржЬ ржкрж┐ржХрзНрж╕рзЗрж▓ ржЕржирзБржкрж╛ржд ~ ${(greenRatio*100).toFixed(1)}%`);
    findings.push(`рж╕рж╛ржжрж╛/ржкрж╛ржЙржбрж╛рж░рж┐ ржЕржирзБржкрж╛ржд ~ ${(whiteRatio*100).toFixed(1)}%`);
    findings.push(`рж╣рж▓рзБржж ржХрзНрж╖ржд ржЕржирзБржкрж╛ржд ~ ${(yellowRatio*100).toFixed(1)}%`);
    findings.push(`ржХрж╛рж▓рзЛ/ржЧрж╛рзЭ ржжрж╛ржЧ ~ ${(darkRatio*100).toFixed(1)}%`);
    findings.push(`ржЯрзЗржХрзНрж╕ржЪрж╛рж░ ржнрзНржпрж╛рж░рж┐рзЯрзЗрж╢ржи (ржЙржЪрзНржЪ ржорж╛ржирзЗ ржжрж╛ржЧ/ржкрж╛ржЙржбрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛): ${lumVar.toFixed(1)}`);

    // Heuristic diagnosis
    let diag="рж╕рзНржмрж╛рж╕рзНржерзНржпржмрж╛ржи ржкрж╛рждрж╛ (рж╕ржорзНржнрж╛ржмрзНржп)";
    let tips=[];
    if(whiteRatio>0.06 && lumVar>15){
        diag="ржкрж╛ржЙржбрж╛рж░рж┐ ржорж┐рж▓ржбрж┐ржЙ (рж╕ржорзНржнрж╛ржмрзНржп)";
        tips.push("ржкрж╛рждрж╛рзЯ рж╕рж╛ржжрж╛ ржкрж╛ржЙржбрж╛рж░рзЗрж░ ржорждрзЛ рж╕рзНрждрж░ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗред ржЫрждрзНрж░рж╛ржХржирж╛рж╢ржХ ржкрзНрж░рзЯрзЛржЧ ржУ ржмрж╛рждрж╛рж╕ ржЪрж▓рж╛ржЪрж▓ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржиред");
    }
    if(yellowRatio>0.08 && diag!=="ржкрж╛ржЙржбрж╛рж░рж┐ ржорж┐рж▓ржбрж┐ржЙ (рж╕ржорзНржнрж╛ржмрзНржп)"){
        diag="ржбрж╛ржЙржирж┐ ржорж┐рж▓ржбрж┐ржЙ/ржкрждрзНрж░ржжрж╛ржЧ (рж╕ржорзНржнрж╛ржмрзНржп)";
        tips.push("ржкрж╛рждрж╛рзЯ рж╣рж▓рзБржж ржЕржирж┐рзЯржорж┐ржд ржжрж╛ржЧтАФрж╕ржХрж╛рж▓рзЗ рж╢рж┐рж╢рж┐рж░/ржЖрж░рзНржжрзНрж░рждрж╛ ржХржорж╛ржи, ржЕржирзБржорзЛржжрж┐ржд ржЫрждрзНрж░рж╛ржХржирж╛рж╢ржХ ржжрж┐ржиред");
    }
    if(darkRatio>0.04 && lumVar>12){
        diag="ржкрж╛рждрж╛ ржжрж╛ржЧ/ржирзЗржХрзНрж░рзЛрж╕рж┐рж╕ (рж╕ржорзНржнрж╛ржмрзНржп)";
        tips.push("ржЧрж╛рзЭ ржжрж╛ржЧ ржжрзЗржЦрж╛ ржпрж╛ржЪрзНржЫрзЗтАФржЖржХрзНрж░рж╛ржирзНржд ржкрж╛рждрж╛ ржЕржкрж╕рж╛рж░ржг, рж╕рзНржпрж╛ржирж┐ржЯрзЗрж╢ржи ржорзЗржирзЗ ржЪрж▓рзБржиред");
    }
    if(whiteRatio<0.03 && yellowRatio<0.04 && darkRatio<0.03) tips.push("ржмрзЬ ржХрзЛржирзЛ ржЕрж╕рзНржмрж╛ржнрж╛ржмрж┐ржХрждрж╛ рж╢ржирж╛ржХрзНржд рж╣рзЯржирж┐ред ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржЪрж╛рж▓рзБ рж░рж╛ржЦрзБржиред");

    document.getElementById('imgSummary').innerText=`ржЪрж┐рждрзНрж░ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг рж╕ржорзНржкржирзНржи: ${w}├Ч${h} ржкрж┐ржХрзНрж╕рзЗрж▓`;
    const ul=document.getElementById('imgFindings'); 
    ul.innerHTML="";
    findings.concat(tips).forEach(t=>{ 
        const li=document.createElement('li'); 
        li.textContent=t; 
        ul.appendChild(li); 
    });
    document.getElementById('imgDiagnosis').innerHTML=`ЁЯФО ржкрзНрж░рж╛ржержорж┐ржХ ржирж┐рж░рзНржгрзЯ: <strong>${diag}</strong>`;
}

// ================== тЬЕ ржлрж┐ржЪрж╛рж░ рзи: рж╕рж╛рж░ ржкрзНрж░рзЯрзЛржЧ рж╕рж┐ржбрж┐ржЙрж▓ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ ==================
function addDays(date,days){ 
    const d=new Date(date); 
    d.setDate(d.getDate()+days); 
    return d; 
}
function fmt(d){ 
    return d.toLocaleDateString('bn-BD',{year:'numeric',month:'long',day:'numeric'}); 
}

function buildFertCalendar(){
    const sow=document.getElementById('sowDate').value;
    if(!sow){ 
        alert("ржмржкржирзЗрж░ рждрж╛рж░рж┐ржЦ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи"); 
        return; 
    }
    const mode=document.getElementById('cultMethod').value;
    // baseline schedule (ржжрж┐ржи рж╣рж┐рж╕рж╛ржмрзЗ)
    const schedule=[
        {offset:0,  task:"ржмрзЗрж╕рж╛рж▓ рж╕рж╛рж░", desc:"TSP 30тАУ40 ржХрзЗржЬрж┐, Urea 10тАУ12 ржХрзЗржЬрж┐, MOP 10тАУ15 ржХрзЗржЬрж┐ (ржмрж┐ржШрж╛)"},
        {offset:14, task:"ржЯржк ржбрзНрж░рзЗрж╕рж┐ржВ рзз", desc:"Urea 10тАУ15 ржХрзЗржЬрж┐, MOP 5тАУ10 ржХрзЗржЬрж┐ ржкрж╛ржЯрж┐рж░ ржкрж╛рж╢рзЗ"},
        {offset:28, task:"ржЯржк ржбрзНрж░рзЗрж╕рж┐ржВ рзи", desc:"Urea 8тАУ12 ржХрзЗржЬрж┐ (ржЧрж╛ржЫрзЗрж░ ржЕржмрж╕рзНржерж╛ ржЕржирзБржпрж╛рзЯрзА)"},
        {offset:35, task:"ржЯрзНрж░рзЗрж╕ ржПрж▓рж┐ржорзЗржирзНржЯ рж╕рзНржкрзНрж░рзЗ", desc:"Zn/B ржорж┐рж╢рзНрж░ржг ржкрж╛рждрж╛рзЯ рж╕рзНржкрзНрж░рзЗ"},
        {offset:42, task:"ржлрзБрж▓/ржлрж▓ рж╕ржорзЯрзЗрж░ ржкржЯрж╛рж╢", desc:"MOP 5тАУ7 ржХрзЗржЬрж┐"},
        {offset:49, task:"рж░рзЛржЧ ржоржирж┐ржЯрж░рж┐ржВ", desc:"ржбрж╛ржЙржирж┐/ржкрж╛ржЙржбрж╛рж░рж┐ ржорж┐рж▓ржбрж┐ржЙ рж╕рзНржХрж╛ржЙржЯрж┐ржВ"}
    ];
    // ржЯрзНрж░рзЗрж▓рж┐рж╕ рж╣рж▓рзЗ ржХрж┐ржЫрзБ ржЯрж╛рж╕рзНржХ ржЖржЧрж╛рзЯ/ржмрж╛рзЬрзЗ
    if(mode==='trellis'){
        schedule.forEach(s=>{
            if(s.task.includes("ржЯржк ржбрзНрж░рзЗрж╕рж┐ржВ")) s.offset -= 2;
            if(s.task.includes("ржлрзБрж▓/ржлрж▓")) s.offset -= 3;
        });
        schedule.push({offset:10, task:"ржЯрзНрж░рзЗрж▓рж┐рж╕ рж╕рзЗржЯржЖржк", desc:"ржорж╛ржЪрж╛/ржжрзЬрж┐ рж╕рзНржерж╛ржкржи"});
        schedule.push({offset:24, task:"рж╢рж╛ржЦрж╛ ржЫрж╛ржБржЯрж╛ржЗ/ржмрж╛ржБржзрж╛ржЗ", desc:"ржмрж╛рзЯрзБржЪрж▓рж╛ржЪрж▓ ржмрж╛рзЬрж╛ржи"});
    }

    const tbody=document.querySelector('#calendarTable tbody');
    tbody.innerHTML="";
    schedule.sort((a,b)=>a.offset-b.offset).forEach(s=>{
        const tr=document.createElement('tr');
        const date=fmt(addDays(sow, s.offset));
        tr.innerHTML=`<td>${date}</td><td>${s.task}</td><td>${s.desc}</td>`;
        tbody.appendChild(tr);
    });
    // cache for ICS
    window._lastSchedule={ sow, schedule };
}

function downloadICS(){
    if(!window._lastSchedule){ 
        alert("ржЖржЧрзЗ ржХрзНржпрж╛рж▓рзЗржирзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи"); 
        return; 
    }
    const {sow, schedule}=window._lastSchedule;
    const lines=[
        "BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Cucumber Scheduler//BN",
    ];
    schedule.forEach((s,i)=>{
        const dt=new Date(addDays(sow, s.offset));
        const dtStr= dt.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";
        lines.push(
            "BEGIN:VEVENT",
            `UID:cuke-${i}-${Date.now()}@local`,
            `DTSTAMP:${dtStr}`,
            `DTSTART:${dtStr}`,
            `SUMMARY:${s.task}`,
            `DESCRIPTION:${s.desc}`,
            "END:VEVENT"
        );
    });
    lines.push("END:VCALENDAR");
    const blob=new Blob([lines.join("\r\n")],{type:"text/calendar"});
    const url=URL.createObjectURL(blob);
    const a=document.createElement('a');
    a.href=url; 
    a.download="cucumber_fertilizer_schedule.ics"; 
    a.click();
    URL.revokeObjectURL(url);
}

// ================== тЬЕ ржлрж┐ржЪрж╛рж░ рзй: ржлрж▓ржи ржЕржирзБржорж╛ржиржХрж╛рж░рзА ==================
let yieldBreakdownChart=new Chart(document.getElementById('yieldBreakdownChart'),{
    type:'bar',
    data:{ 
        labels:['ржорзЛржЯ ржЧрж╛ржЫ','ржорзЛржЯ ржлрж▓ (рж╕ржВржЦрзНржпрж╛)','ржорзЛржЯ ржлрж▓ржи (ржХрзЗржЬрж┐)','ржмрж┐ржШрж╛ ржкрзНрж░рждрж┐ (ржХрзЗржЬрж┐)'],
        datasets:[{ 
            label:'ржорж╛ржи', 
            data:[0,0,0,0] 
        }]
    },
    options:{ 
        responsive:true, 
        plugins:{
            title:{
                display:true,
                text:'ржлрж▓ржи ржмрзНрж░рзЗржХржбрж╛ржЙржи'
            }
        },
        scales:{
            y:{
                beginAtZero:true
            }
        } 
    }
});
function estimateYield(){
    const areaBigha=+document.getElementById('areaBigha').value;
    const rowSp=+document.getElementById('rowSpacing').value;
    const plantSp=+document.getElementById('plantSpacing').value;
    const fruits=+document.getElementById('fruitsPerPlant').value;
    const weightG=+document.getElementById('fruitWeight').value;
    const mgmt=+document.getElementById('mgmtFactor').value;

    const SQM_PER_BIGHA=1337.803;
    const areaSqm=areaBigha*SQM_PER_BIGHA;
    const plants=Math.floor(areaSqm/(rowSp*plantSp));
    const totalFruits=plants*fruits*mgmt;
    const totalKg=(totalFruits*weightG)/1000;
    const perBighaKg= totalKg/areaBigha;

    yieldBreakdownChart.data.datasets[0].data=[plants, Math.round(totalFruits), +totalKg.toFixed(1), +perBighaKg.toFixed(1)];
    yieldBreakdownChart.update();

    document.getElementById('yieldSummary').innerHTML=
        `ЁЯМ╛ ржЖржирзБржорж╛ржирж┐ржХ ржЧрж╛ржЫ: <b>${plants.toLocaleString('bn-BD')}</b>, ржорзЛржЯ ржлрж▓: <b>${Math.round(totalFruits).toLocaleString('bn-BD')}</b>, ржорзЛржЯ ржлрж▓ржи: <b>${totalKg.toFixed(1)} ржХрзЗржЬрж┐</b> (ржмрж┐ржШрж╛ ржкрзНрж░рждрж┐ ~ <b>${perBighaKg.toFixed(1)} ржХрзЗржЬрж┐</b>).`;
}

// ================== тЬЕ ржлрж┐ржЪрж╛рж░ рзк: ржЕржкрзНржЯрж┐ржорж╛ржЗржЬржб рж╕рзНржкрзЗрж╕рж┐ржВ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ ==================
function applyPreset(){
    const mode=document.getElementById('spacingMode').value;
    if(mode==='ground'){ 
        document.getElementById('optRow').value=1.5; 
        document.getElementById('optPlant').value=0.6; 
    }
    if(mode==='trellis'){ 
        document.getElementById('optRow').value=2.0; 
        document.getElementById('optPlant').value=0.5; 
    }
}
function optimizeSpacing(){
    const L=+document.getElementById('plotLen').value;
    const W=+document.getElementById('plotWid').value;
    const rs=+document.getElementById('optRow').value;
    const ps=+document.getElementById('optPlant').value;

    const rows=Math.max(1, Math.floor(W/rs));
    const perRow=Math.max(1, Math.floor(L/ps));
    const total=rows*perRow;

    document.getElementById('spacingSummary').innerHTML=
        `ЁЯзй рж╕ржорзНржнрж╛ржмрзНржп рж╕рж╛рж░рж┐: <b>${rows}</b>, ржкрзНрж░рждрж┐ рж╕рж╛рж░рж┐рждрзЗ ржЧрж╛ржЫ: <b>${perRow}</b>, ржорзЛржЯ ржЧрж╛ржЫ тЙИ <b>${total.toLocaleString('bn-BD')}</b>`;
    document.getElementById('gridInfo').innerText=`рж╕рж╛рж░рж┐ ржПржмржВ ржЧрж╛ржЫрзЗрж░ рж╕ржВржЦрзНржпрж╛ рж╣рж┐рж╕рж╛ржм ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ`;
}

  // Multi-language
    function changeLanguage() {
      let lang = document.getElementById("languageSelect").value;
      let text = document.getElementById("langText");
      if (lang === "bn") text.innerText = "ржмрж░рзНрждржорж╛ржирзЗ ржмрж╛ржВрж▓рж╛ ржнрж╛рж╖рж╛ рж╕ржХрзНрж░рж┐рзЯ ржЖржЫрзЗред";
      else if (lang === "en") text.innerText = "English language is active now.";
      else if (lang === "hi") text.innerText = "рдЕрднреА рд╣рд┐рдиреНрджреА рднрд╛рд╖рд╛ рд╕рдХреНрд░рд┐рдп рд╣реИред";
    }

// ===== рж▓рж╛ржн/ржХрзНрж╖рждрж┐ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ =====
function calculateProfit(){
  const area = parseFloat(document.getElementById('area').value);
  const cost = parseFloat(document.getElementById('cost').value);
  const yieldKg = parseFloat(document.getElementById('yield').value);
  const price = parseFloat(document.getElementById('price').value);

  if(isNaN(area)||isNaN(cost)||isNaN(yieldKg)||isNaN(price)){
    alert('рж╕ржм ржЗржиржкрзБржЯ ржкрзВрж░ржг ржХрж░рзБржи!');
    return;
  }

  const revenue = yieldKg * price;
  const profit = revenue - cost;

  let msg = `ржорзЛржЯ ржЖржпрж╝: ${revenue.toLocaleString('bn-BD')} ржЯрж╛ржХрж╛, рж▓рж╛ржн/ржХрзНрж╖рждрж┐: ${profit.toLocaleString('bn-BD')} ржЯрж╛ржХрж╛`;
  if(profit > 0) msg += ' тЬЕ ржЖржкржирж┐ рж▓рж╛ржнрзЗ ржЖржЫрзЗржиред';
  else if(profit < 0) msg += ' тЭМ ржЖржкржирж┐ ржХрзНрж╖рждрж┐рждрзЗ ржЖржЫрзЗржиред';
  else msg += ' тЪЦ ржЖржкржирж┐ ржирж┐ржЦрзБржБржд ржмрзНржпрж╛рж▓рж╛ржирзНрж╕рзЗ ржЖржЫрзЗржиред';

  document.getElementById('profit-msg').innerText = msg;
}

// ===== ржХрзГрж╖рж┐ ржХржорж┐ржЙржирж┐ржЯрж┐ =====
function postComment(){
  const commentText = document.getElementById('comment').value;
  if(!commentText) return;
  const commentBox = document.getElementById('comment-box');
  const div = document.createElement('div');
  div.className = 'comment';
  div.innerText = commentText;
  commentBox.prepend(div);
  document.getElementById('comment').value = '';
}
</script>
</body>
</html>